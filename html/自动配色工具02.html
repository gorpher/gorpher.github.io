<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="Content-Type" content="text/html; charset=gb2312"><title>Color Scheme Generator 2</title><link rel="stylesheet" href="css/styl1.css" type="text/css"><script type="text/javascript" src="js/colorblind.js"></script><script type="text/javascript">function objGet(x){return"string"!=typeof x?x:Boolean(document.getElementById)?document.getElementById(x):Boolean(document.all)?eval("document.all."+x):null}function objSetStyle(obj,prop,val){var o=objGet(obj);return!(!o||!o.style||(eval("o.style."+prop+'="'+val+'"'),0))}function objDisplay(e,o,r){return o&&!r&&(r="block"),objSetStyle(e,"display",o?r:"none")}function getFormValue(e){return objGet(e).value}function setFormValue(e,o){objGet(e).value=o}function dec2hex(e){var o=e.toString(16);return o.length<2&&(o="0"+o),o.toUpperCase()}function hex2dec(e){return parseInt(e,16)}function col2Gray(e,o,r){var t=Math.round(.299*e+.587*o+.114*r);return dec2hex(t)+dec2hex(t)+dec2hex(t)}var varPresets=new Array;function Color(e){this.S=new Array,this.V=new Array,this.setBaseColor(e)}varPresets.default=new Array(-1,-1,1,-.7,.25,1,.5,1),varPresets.pastel=new Array(.5,-.9,.5,.5,.1,.9,.75,.75),varPresets.soft=new Array(.3,-.8,.3,.5,.1,.9,.5,.75),varPresets.hard=new Array(1,-1,1,-.6,.1,1,.6,1),varPresets.light=new Array(.25,1,.5,.75,.1,1,.5,1),varPresets.pale=new Array(.1,-.85,.1,.5,.1,1,.1,.75),varPresets.work=new Array,Color.prototype.setBaseColor=function(e){this.moveHue(e)},Color.prototype.moveHue=function(e){function o(e,o,r){return e+Math.round((o-e)*r)}this.H=e;var r=Math.round(this.H)%360,t=r%15+(this.H-Math.floor(this.H)),a=t/15,l=r-Math.floor(t),s=colWheel[l],n=colWheel[l=(l+15)%360];this.baseR=o(s[0],n[0],a),this.baseG=o(s[1],n[1],a),this.baseB=o(s[2],n[2],a),this.baseS=o(s[4],n[4],a)/100,this.baseV=o(s[5],n[5],a)/100},Color.prototype.setVariant=function(e,o,r){this.S[e]=o,this.V[e]=r},Color.prototype.getS=function(e){var o=this.S[e]<0?-this.S[e]*this.baseS:this.S[e];return 1<o&&(o=1),o<0&&(o=0),o},Color.prototype.getV=function(e){var o=this.V[e]<0?-this.V[e]*this.baseV:this.V[e];return 1<o&&(o=1),o<0&&(o=0),o},Color.prototype.setVariantPreset=function(e){var o,r=varPresets[e];for(r||(r=varPresets.default),o=0;o<4;o++)this.setVariant(o,r[2*o],r[2*o+1])},Color.prototype.getHex=function(e,o,r){var t,a,l,s=Math.max(Math.max(this.baseR,this.baseG),this.baseB),n=(Math.min(Math.min(this.baseR,this.baseG),this.baseB),r<0?this.baseV:this.getV(r)),c=r<0?this.baseS:this.getS(r),i=255*n,d=0<s?i/s:0;return 255<(t=Math.round(i-(i-this.baseR*d)*c))&&(t=255),255<(a=Math.round(i-(i-this.baseG*d)*c))&&(a=255),255<(l=Math.round(i-(i-this.baseB*d)*c))&&(l=255),e&&(t=51*Math.round(t/51),a=51*Math.round(a/51),l=51*Math.round(l/51)),o?7==o?col2Gray(t,a,l):getColorBlindColor(t,a,l,o):dec2hex(t)+dec2hex(a)+dec2hex(l)},Color.prototype.rotate=function(e){var o=(this.H+e)%360;this.setBaseColor(o)};var colWheel=new Array(12);colWheel[0]=new Array(255,0,0,0,100,100),colWheel[15]=new Array(255,51,0,15,100,100),colWheel[30]=new Array(255,102,0,30,100,100),colWheel[45]=new Array(255,128,0,45,100,100),colWheel[60]=new Array(255,153,0,60,100,100),colWheel[75]=new Array(255,178,0,75,100,100),colWheel[90]=new Array(255,204,0,90,100,100),colWheel[105]=new Array(255,229,0,105,100,100),colWheel[120]=new Array(255,255,0,120,100,100),colWheel[135]=new Array(204,255,0,135,100,100),colWheel[150]=new Array(153,255,0,150,100,100),colWheel[165]=new Array(51,255,0,165,100,100),colWheel[180]=new Array(0,204,0,180,100,80),colWheel[195]=new Array(0,178,102,195,100,70),colWheel[210]=new Array(0,153,153,210,100,60),colWheel[225]=new Array(0,102,178,225,100,70),colWheel[240]=new Array(0,51,204,240,100,80),colWheel[255]=new Array(25,25,178,255,100,70),colWheel[270]=new Array(51,0,153,270,100,60),colWheel[285]=new Array(64,0,153,285,100,60),colWheel[300]=new Array(102,0,153,300,100,60),colWheel[315]=new Array(153,0,153,315,100,60),colWheel[330]=new Array(204,0,153,330,100,80),colWheel[345]=new Array(229,0,102,345,100,90);for(var usedColors=1,schemeNames=new Array("mono","compl","triad","tetrad","analog"),usedScheme="mono",sliderVal=.5,col=new Array(4),i=0;i<4;i++)col[i]=new Color(60);var bussy=!1,webSnap=!1,colorblindMode="",usedPreset="default",RGBinput="";function setMainColor(e,o){col[0].setBaseColor(e),createScheme(!o)}function setVar(e,o,r,t){var a;col[e].S[o]==r&&col[e].V[o]==t||(col[e].setVariant(o,r,t),usedPreset&&((a=objGet("preset-"+usedPreset))&&(a.className="btn"),usedPreset="")),drawSample()}function createScheme(e){if(H=col[0].H,"mono"==usedScheme)usedColors=1;else if("compl"==usedScheme)usedColors=2,col[1].setBaseColor(H),col[1].rotate(180);else if("triad"==usedScheme){usedColors=3;var o=60*sliderVal;col[1].setBaseColor(H),col[1].rotate(180-o),col[2].setBaseColor(H),col[2].rotate(180+o)}else if("tetrad"==usedScheme)usedColors=4,o=90*sliderVal,col[1].setBaseColor(H),col[1].rotate(180),col[2].setBaseColor(H),col[2].rotate(180+o),col[3].setBaseColor(H),col[3].rotate(o);else if("analog"==usedScheme){usedColors=3,o=60*sliderVal;var r=objGet("analogCompl").checked;col[1].setBaseColor(H),col[1].rotate(o),col[2].setBaseColor(H),col[2].rotate(360-o),col[3].setBaseColor(H),col[3].rotate(180),usedColors=r?4:3}if(e)for(var t=0;t<4;t++)col[t].setVariantPreset("default");drawSample()}function drawSample(){var e,o,r,t,a="";for(e=0;e<4;e++)for((t=e<usedColors)?(objSetStyle("color"+e,"background",r="#"+col[e].getHex(webSnap,colorblindMode,0)),a+='<img class="coltbl-image" src="images/uarr.gif" alt="" onclick="shiftVar('+e+')">',a+='<p class="coltbl-item" style="border-color:'+(r="#"+col[e].getHex(webSnap,0,0))+';">'+r+"</p>",drawRing(e,1,col[e].H)):drawRing(e,0,col[e].H),o=0;o<4;o++)objDisplay("color"+e+"-"+o,t),objGet("color"+e+"-"+o).className="col-"+o,t&&(objSetStyle("color"+e+"-"+o,"background",r="#"+col[e].getHex(webSnap,colorblindMode,o)),0<o&&(a+='<p class="coltbl-itemvar" style="border-color:'+(r="#"+col[e].getHex(webSnap,0,o))+';">'+r+"</p>"));if(1==usedColors)for(o=1;o<4;o++)objSetStyle("color"+o,"background","#"+col[0].getHex(webSnap,colorblindMode,o)),objGet("color0-"+o).className="col-"+o+" col-on";else 2==usedColors?(objSetStyle("color2","background","#"+col[1].getHex(webSnap,colorblindMode,1)),objSetStyle("color3","background","#"+col[0].getHex(webSnap,colorblindMode,1)),objGet("color0-1").className="col-1 col-on",objGet("color1-1").className="col-1 col-on"):3==usedColors&&(objSetStyle("color3","background","#"+col[0].getHex(webSnap,colorblindMode,1)),objGet("color0-1").className="col-1 col-on");for(objSetStyle("colsample","background","#"+col[0].getHex(webSnap,colorblindMode,0)),objSetStyle("maincolorsample","background","#"+col[0].getHex(0,0,-1)),objGet("maincolorhue").innerHTML=col[0].H+"",objDisplay("colsamplevars",!1),objDisplay("colsamplevarsswitch",!1),objDisplay("cbmodeswitch",!0),objDisplay("websnapswitch",!0),objDisplay("colsample",!0),objDisplay("coltable",!1),objGet("coltable").innerHTML=a,objDisplay("coltable",!0),Math.round(100*sliderVal),objGet("analogCompl").checked,col[0].H,e=0;e<4;e++)for(o=0;o<4;o++)col[e].S[o],col[e].V[o]}function drawVar(e,o){for(var r,t=Math.round(20*col[e].getS(o))/20,a=Math.round(20*col[e].getV(o))/20,l=new Color(col[e].H),s="",n=20;0<=n;n--){l.S[0]=n/20;for(var c=20;0<=c;c--)l.V[0]=c/20,r=l.getHex(webSnap,0,0),s+='<div id="vbx-'+n+"-"+c+'" onclick="setVar('+e+","+o+","+l.S[0]+","+l.V[0]+')" ',s+='title="S='+Math.round(100*l.S[0])+" %, V="+Math.round(100*l.V[0])+" % --- #"+r+'" ',s+='class="colvar" style="top:'+14*(20-n)+"px; left:"+14*(20-c)+"px; ",l.S[0]==t&&l.V[0]==a&&(s+="background: red url('ring-w.gif') center no-repeat; "),s+="background-color:#"+r,s+='"></div>'}objGet("colsamplevars").innerHTML=s,objDisplay("cbmodeswitch",!1),objDisplay("websnapswitch",!1),objDisplay("colsample",!1),objDisplay("colsamplevars",!0),objDisplay("colsamplevarsswitch",!0)}function drawRing(e,o,r){var t,a,l=objGet("pointer"+e),s=(r-90)/360*2*Math.PI;o&&(t=Math.round(115+45*Math.cos(s))-3,a=Math.round(115+45*Math.sin(s))-2,objSetStyle(l,"left",t+"px"),objSetStyle(l,"top",a+"px")),objDisplay(l,o)}var dX=20,dY=20,eX,eY;function getEvent(e){e||(e=window.event),eX=e.x?e.x:e.clientX,eY=e.y?e.y:e.clientY}function moveHue(e){var o,t,a;getEvent(e),o=eX-dX-115,t=eY-dY-115,a=Math.round((180*Math.atan2(-o,t)/Math.PI+180)%360),r=Math.sqrt(o*o+t*t),50<r?(setMainColor(a=15*Math.floor((a-7.5)/15+1)%360,!1),switchPreset("default")):setMainColor(a,!0)}function showHueInfo(e){var o,t,a;getEvent(e),o=eX-dX-115,t=eY-dY-115,a=Math.round((180*Math.atan2(-o,t)/Math.PI+180)%360),r=Math.sqrt(o*o+t*t),50<r&&(a=15*Math.floor((a-7.5)/15+1)%360),window.status="Hue: "+a}function showSliderInfo(e){getEvent(e);var o=eX-dX;(o=(o-48)/140)<0&&(o=0),1<o&&(o=1),window.status="Value: "+Math.round(100*o)+" %"}function moveSlider(e){getEvent(e);var o=eX-dX;(o=(o-48)/140)<0&&(o=0),1<o&&(o=1),objSetStyle("pointer-slider","left",Math.round(48+140*o)-3+"px"),sliderVal=o,createScheme(!1)}function setSlider(e){e<0&&(e=0),1<e&&(e=1),objSetStyle("pointer-slider","left",Math.round(48+140*e)-3+"px"),sliderVal=e}function shiftVar(e){for(var o=col[e].S[0],r=col[e].V[0],t=0;t<3;t++)col[e].S[t]=col[e].S[t+1],col[e].V[t]=col[e].V[t+1];col[e].S[3]=o,col[e].V[3]=r,drawSample()}function selectScheme(e){usedScheme=e;for(var o=0;o<5;o++)objGet("previmg-"+schemeNames[o]).src="images/prev_"+schemeNames[o]+(e==schemeNames[o]?"-on":"")+".gif";objDisplay("scheme-slider","triad"==e||"tetrad"==e||"analog"==e),objDisplay("scheme-addcompl","analog"==e),createScheme(!1)}function switchPreset(e){var o;usedPreset&&(o=objGet("preset-"+usedPreset))&&(o.className="btn"),(o=objGet("preset-"+(usedPreset=e)))&&(o.className="btnon");for(var r=0;r<4;r++)col[r].setVariantPreset(e);drawSample()}function switchWebSnap(e){webSnap=e,drawSample()}function switchBlindlessMode(){colorblindMode=getFormValue("cbmodeswitcher"),drawSample()}function searchRGB(){var e=prompt("请输入6位16进制颜色代码(不包括#号) - 如. FF99CC",RGBinput);if(e)if((RGBinput=e).match(/^[0-9a-fA-F]{6}$/)){var o,r,t,a,l,s,n,c,i,d,h;for(a=(t=u(hex2dec(e.substr(0,2))/255,hex2dec(e.substr(2,2))/255,hex2dec(e.substr(4,2))/255))[0],s=1e3,o=l=0;o<360;o+=15)l<=(i=u((r=colWheel[o])[0]/255,r[1]/255,r[2]/255)[0])&&i<=a&&(l=i,n=o),i<=s&&a<=i&&(s=i,c=o);(0==s||360<s)&&(c=s=360),k=s!=l?(a-l)/(s-l):0,360<=(i=Math.round(n+k*(c-n)))&&(i-=360),i<0&&(i+=360),d=t[1],h=t[2],varPresets.work=[d,h,d,.7*h,.25*d,1,.5*d,1],setMainColor(i,!0),switchPreset("work")}else alert("错误代码格式");function u(e,o,r){var t,a,l,s,n;return a=Math.min(e,Math.min(o,r)),n=l=Math.max(e,Math.max(o,r)),0<(t=l-a)?(s=e==l?(o-r)/t:o==l?2+(r-e)/t:4+(e-o)/t,(s*=60)<0&&(s+=360),[s,t/l,n]):[0,0,n]}}var dragging=!1;function beginDragSlider(e){dragging=!0,dragSlider(e)}function dragSlider(e){showSliderInfo(e),dragging&&moveSlider(e)}function beginDragWheel(e){dragging=!0,dragWheel(e)}function dragWheel(e){showHueInfo(e),dragging&&moveHue(e)}function endDrag(){dragging=!1}function Init(){objGet("wheelarea").onmousedown=beginDragWheel,objGet("wheelarea").onmousemove=dragWheel,objGet("wheelarea").onmouseup=endDrag,objGet("pointer0").onmouseup=endDrag,objGet("scheme-slider").onmousedown=beginDragSlider,objGet("scheme-slider").onmousemove=dragSlider,objGet("scheme-slider").onmouseup=endDrag;var e,o,r=document.location.search;if(""!=r){var t=(r=r.substr(1)).split(";");if(37!=t.length)alert("Wrong parameters"),setMainColor(60),selectScheme("mono");else{setSlider(parseInt(t[1])/100),objGet("analogCompl").checked=0!=t[2],col[0].setBaseColor(parseInt(t[3])),selectScheme(t[0]);var a=4;for(e=0;e<4;e++)for(o=0;o<4;o++)col[e].S[o]=parseFloat(t[a]),a++,col[e].V[o]=parseFloat(t[a]),a++;objGet("websnapper").checked=0!=t[36],drawSample()}}else setMainColor(60),selectScheme("mono"),switchPreset("default");return!0}window.onload=Init</script></head><body><div id="maincolorsample" style="background:#f90"></div><div id="image"><div id="wheelarea"></div><div id="pointer0" style="left:151px;top:91px;display:block"></div><div id="pointer1" style="display:none"></div><div id="pointer2" style="display:none"></div><div id="pointer3" style="display:none"></div></div><div id="maincolorhue">60</div><div id="scheme-select"> <img id="previmg-mono" src="images/prev_mono-on.gif" alt="" width="41" height="52" onclick='selectScheme("mono")'> <img id="previmg-compl" src="images/prev_compl.gif" alt="" width="41" height="52" onclick='selectScheme("compl")'> <img id="previmg-triad" src="images/prev_triad.gif" alt="" width="41" height="52" onclick='selectScheme("triad")'> <img id="previmg-tetrad" src="images/prev_tetrad.gif" alt="" width="41" height="52" onclick='selectScheme("tetrad")'> <img id="previmg-analog" src="images/prev_analog.gif" alt="" width="41" height="52" onclick='selectScheme("analog")'></div><div id="scheme-slider" style="display:none"><div id="pointer-slider"></div></div><div id="scheme-addcompl" style="display:none"> <input type="checkbox" id="analogCompl" onchange="createScheme(!1)" onclick="createScheme(!1)"> <label for="analogCompl">添加互补色</label></div><div id="scheme-searchrgb"> <a href="#" onclick="searchRGB(!1)">手动输入RGB值</a></div><div id="colsample" style="background:#f90;display:block"><div id="color0" class="col" style="background:#f90"><div id="color0-0" class="col-0" onclick="drawVar(0,0)" style="display:block;background:#f90"></div><div id="color0-1" class="col-1 col-on" onclick="drawVar(0,1)" style="display:block;background:#b36b00"></div><div id="color0-2" class="col-2 col-on" onclick="drawVar(0,2)" style="display:block;background:#ffe6bf"></div><div id="color0-3" class="col-3 col-on" onclick="drawVar(0,3)" style="display:block;background:#ffcc80"></div></div><div id="color1" class="col" style="background:#b36b00"><div id="color1-0" class="col-0" onclick="drawVar(1,0)" style="display:none"></div><div id="color1-1" class="col-1" onclick="drawVar(1,1)" style="display:none"></div><div id="color1-2" class="col-2" onclick="drawVar(1,2)" style="display:none"></div><div id="color1-3" class="col-3" onclick="drawVar(1,3)" style="display:none"></div></div><div id="color2" class="col" style="background:#ffe6bf"><div id="color2-0" class="col-0" onclick="drawVar(2,0)" style="display:none"></div><div id="color2-1" class="col-1" onclick="drawVar(2,1)" style="display:none"></div><div id="color2-2" class="col-2" onclick="drawVar(2,2)" style="display:none"></div><div id="color2-3" class="col-3" onclick="drawVar(2,3)" style="display:none"></div></div><div id="color3" class="col" style="background:#ffcc80"><div id="color3-0" class="col-0" onclick="drawVar(3,0)" style="display:none"></div><div id="color3-1" class="col-1" onclick="drawVar(3,1)" style="display:none"></div><div id="color3-2" class="col-2" onclick="drawVar(3,2)" style="display:none"></div><div id="color3-3" class="col-3" onclick="drawVar(3,3)" style="display:none"></div></div><div id="textBlack">黑色文本 <strong>对比效果</strong></div><div id="textWhite"><strong>白色文本</strong>对比效果</div></div><div id="coltable" style="display:block"><img class="coltbl-image" src="images/uarr.gif" alt="" onclick="shiftVar(0)"><p class="coltbl-item" style="border-color:#f90">#FF9900</p><p class="coltbl-itemvar" style="border-color:#b36b00">#B36B00</p><p class="coltbl-itemvar" style="border-color:#ffe6bf">#FFE6BF</p><p class="coltbl-itemvar" style="border-color:#ffcc80">#FFCC80</p></div><div id="websnapswitch" style="display:block"> <input type="checkbox" id="websnapper" onclick="switchWebSnap(this.checked)" onchange="switchWebSnap(this.checked)"> <label for="websnapper">改为网页安全色 (WebColors)</label></div><div id="presetswitch"> 变化: <a href="" id="preset-default" class="btnon" onclick='return switchPreset("default"),!1'>缺省</a> <a href="" id="preset-pastel" class="btn" onclick='return switchPreset("pastel"),!1'>柔和色</a> <a href="" id="preset-soft" class="btn" onclick='return switchPreset("soft"),!1'>暗色</a> <a href="" id="preset-light" class="btn" onclick='return switchPreset("light"),!1'>亮色</a> <a href="" id="preset-hard" class="btn" onclick='return switchPreset("hard"),!1'>对比色</a> <a href="" id="preset-pale" class="btn" onclick='return switchPreset("pale"),!1'>淡白色</a></div><form id="cbmodeswitch" style="display:block"> <select id="cbmodeswitcher" onchange="switchBlindlessMode()"><option value="">正常色觉 (约占总人口的85.5 %)</option><option value="1">红色盲 (1 % 的男性)</option><option value="2">绿色盲 (1 % 的男性)</option><option value="3">蓝色盲 (约占总人口的 0.003 %)</option><option value="4">红色弱(1 % 男性)</option><option value="5">绿色弱(5 % 的男性, 0.4 % 的女性)</option><option value="6">蓝色弱(几乎为 0 %)</option><option value="7">全色盲(人口的0.005%)</option><option value="8">非典型全色盲</option></select></form></body></html>