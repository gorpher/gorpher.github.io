<?xml version="1.0" encoding="UTF-8"?>
<pattern:specification xmlns="http://www.ibm.com/software/rational/designpattern" xmlns:argument="http://www.ibm.com/software/rational/designpattern/argument" xmlns:attribute="http://www.ibm.com/software/rational/designpattern/attribute" xmlns:dependency="http://www.ibm.com/software/rational/designpattern/dependency" xmlns:operation="http://www.ibm.com/software/rational/designpattern/operation" xmlns:participant="http://www.ibm.com/software/rational/designpattern/participant" xmlns:pattern="http://www.ibm.com/software/rational/designpattern/pattern" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.ibm.com/software/rational/designpattern
..\schemas\designpattern.xsd">
	<pattern:name>Flyweight</pattern:name>
	<pattern:description>flyweight.html</pattern:description>
	<pattern:assignedLanguage>Analysis</pattern:assignedLanguage>
	<pattern:participants>
		<!-- Client -->
		<pattern:participant>
			<participant:name>Client</participant:name>
			<participant:required>false</participant:required>
			<participant:exportControl>public</participant:exportControl>
			<participant:multiplicity>1</participant:multiplicity>
			<participant:isAnyType>true</participant:isAnyType>
			<!-- attributes -->
			<participant:attributes>
				<participant:attribute>
					<attribute:name>the%FlyweightFactory%</attribute:name>
					<attribute:type>%FlyweightFactory%</attribute:type>
					<attribute:exportControl>private</attribute:exportControl>
					<attribute:cardinality>1</attribute:cardinality>
				</participant:attribute>
				<participant:attribute>
					<attribute:name>the%UnsharedConcreteFlyweight%</attribute:name>
					<attribute:type>%UnsharedConcreteFlyweight%</attribute:type>
					<attribute:exportControl>private</attribute:exportControl>
					<attribute:cardinality>1</attribute:cardinality>
				</participant:attribute>
				<participant:attribute>
					<attribute:name>the%ConcreteFlyweight%</attribute:name>
					<attribute:type>%ConcreteFlyweight%</attribute:type>
					<attribute:exportControl>private</attribute:exportControl>
					<attribute:cardinality>1</attribute:cardinality>
				</participant:attribute>
			</participant:attributes>
		</pattern:participant>
		<!--FlyweightFactory-->
		<pattern:participant>
			<participant:name>FlyweightFactory</participant:name>
			<participant:required>false</participant:required>
			<participant:multiplicity>1</participant:multiplicity>
			<participant:exportControl>public</participant:exportControl>
			<participant:isAbstract>false</participant:isAbstract>
			<participant:isInterface>false</participant:isInterface>
			<!--
			<participant:documentation><![CDATA[
FlyweightFactory. Ensure flyweights are shared properly. Creates and manages flyweight objects.
]]></participant:documentation>
-->
			<!--attributes-->
			<participant:attributes>
				<participant:attribute>
					<attribute:name>flyweights</attribute:name>
					<attribute:type>%Flyweight%</attribute:type>
					<attribute:exportControl>private</attribute:exportControl>
					<attribute:cardinality>n</attribute:cardinality>
					<attribute:containment>containmentObject</attribute:containment>
					<!--
					<attribute:documentation><![CDATA[
containment object stores flyweightKey and instantianted Flyweight object pairing
]]></attribute:documentation>
-->
				</participant:attribute>
			</participant:attributes>
			<!--operations-->
			<participant:operations>
				<!--getFlyweight-->
				<participant:operation>
					<operation:name>getFlyweight</operation:name>
					<operation:returnType>%Flyweight%</operation:returnType>
					<operation:exportControl>public</operation:exportControl>
					<operation:isAbstract>false</operation:isAbstract>
					<!--
					<operation:documentation><![CDATA[
Return an existing flyweight by looking up flyweightKey. Otherwise, create and return a new flyweight
]]></operation:documentation>
-->
					<!--arguments-->
					<operation:arguments>
						<operation:argument>
							<argument:name>flyweightKey</argument:name>
							<argument:type>int</argument:type>
						</operation:argument>
					</operation:arguments>
				</participant:operation>
			</participant:operations>
			<!--relationships-->
			<!--dependency (uses) relationship-->
			<participant:dependencies>
				<participant:dependency>
					<dependency:dependentOn>%Flyweight%</dependency:dependentOn>
					<dependency:type>uses</dependency:type>
				</participant:dependency>
			</participant:dependencies>
		</pattern:participant>
		<!--Flyweight-->
		<pattern:participant>
			<participant:name>Flyweight</participant:name>
			<participant:required>true</participant:required>
			<participant:multiplicity>1</participant:multiplicity>
			<participant:exportControl>public</participant:exportControl>
			<participant:isAbstract>false</participant:isAbstract>
			<participant:isInterface>true</participant:isInterface>
			<!--
			<participant:documentation><![CDATA[
Flyweight. Interface to receive and act on the extrinsic state.
]]></participant:documentation>
-->
			<!--attributes-->
			<!--operations-->
			<participant:operations>
				<participant:operation>
					<operation:name>defaultMethod</operation:name>
					<operation:returnType>void</operation:returnType>
					<operation:exportControl>public</operation:exportControl>
					<operation:isAbstract>true</operation:isAbstract>
					<!--
					<operation:documentation><![CDATA[
Input extrinsic State
]]></operation:documentation>
-->
					<!--arguments-->
					<operation:arguments>
						<operation:argument>
							<argument:name>extrinsicState</argument:name>
							<argument:type>int</argument:type>
						</operation:argument>
					</operation:arguments>
				</participant:operation>
			</participant:operations>
			<!--relationships-->
		</pattern:participant>
		<!--ConcreteFlyweight-->
		<!--We will describe only a generic one.  All the rest will be similar-->
		<pattern:participant>
			<participant:name>ConcreteFlyweight</participant:name>
			<participant:required>true</participant:required>
			<participant:multiplicity>n</participant:multiplicity>
			<participant:exportControl>public</participant:exportControl>
			<participant:isAbstract>false</participant:isAbstract>
			<participant:isInterface>false</participant:isInterface>
			<!--
			<participant:documentation><![CDATA[
ConcreteFlyweight. Implements the flyweight interface and adds storage for intrinsic state.It must be sharable
]]></participant:documentation>
-->
			<!--attributes-->
			<participant:attributes>
				<participant:attribute>
					<attribute:name>intrinsicState</attribute:name>
					<attribute:type>int</attribute:type>
					<attribute:exportControl>private</attribute:exportControl>
					<attribute:cardinality>1</attribute:cardinality>
					<!--
					<attribute:documentation><![CDATA[
Intrinsic State Object attribute, must be replaced by user's actual instance attribute
]]></attribute:documentation>
-->
				</participant:attribute>
			</participant:attributes>
			<!--operations-->
			<participant:operations>
				<!--defaultMethod-->
				<participant:operation>
					<operation:name>defaultMethod</operation:name>
					<operation:returnType>void</operation:returnType>
					<operation:exportControl>public</operation:exportControl>
					<operation:isAbstract>false</operation:isAbstract>
					<!--
					<operation:documentation><![CDATA[
Input extrinsic State
]]></operation:documentation>
-->
					<!--arguments-->
					<operation:arguments>
						<operation:argument>
							<argument:name>extrinsicState</argument:name>
							<argument:type>int</argument:type>
						</operation:argument>
					</operation:arguments>
				</participant:operation>
			</participant:operations>
			<!--relationships-->
			<!--Implements the interfaces:-->
			<participant:interfacesImplemented>
				<participant:implements>%Flyweight%</participant:implements>
			</participant:interfacesImplemented>
		</pattern:participant>
		<!--UnsharedConcreteFlyweight-->
		<!--We will describe only a generic one.  All the rest will be similar-->
		<pattern:participant>
			<participant:name>UnsharedConcreteFlyweight</participant:name>
			<participant:required>false</participant:required>
			<participant:multiplicity>n</participant:multiplicity>
			<participant:exportControl>public</participant:exportControl>
			<participant:isAbstract>false</participant:isAbstract>
			<participant:isInterface>false</participant:isInterface>
			<!--
			<participant:documentation><![CDATA[
UnsharedConcreteFlyweight. It is not sharable
]]></participant:documentation>
-->
			<!--attributes-->
			<participant:attributes>
				<participant:attribute>
					<attribute:name>allState</attribute:name>
					<attribute:type>int</attribute:type>
					<attribute:exportControl>private</attribute:exportControl>
					<attribute:cardinality>1</attribute:cardinality>
					<!--
					<attribute:documentation><![CDATA[
All State Object attribute, must be replaced by user's actual instance attribute.This attribute can be content dependent
]]></attribute:documentation>
-->
				</participant:attribute>
			</participant:attributes>
			<!--operations-->
			<participant:operations>
				<!--defaultMethod-->
				<participant:operation>
					<operation:name>defaultMethod</operation:name>
					<operation:returnType>void</operation:returnType>
					<operation:exportControl>public</operation:exportControl>
					<operation:isAbstract>false</operation:isAbstract>
					<!--
					<operation:documentation><![CDATA[
Input extrinsic State
]]></operation:documentation>
-->
					<!--arguments-->
					<operation:arguments>
						<operation:argument>
							<argument:name>extrinsicState</argument:name>
							<argument:type>int</argument:type>
						</operation:argument>
					</operation:arguments>
				</participant:operation>
			</participant:operations>
			<!--relationships-->
			<!--Implements the interfaces:-->
			<participant:interfacesImplemented>
				<participant:implements>%Flyweight%</participant:implements>
			</participant:interfacesImplemented>
		</pattern:participant>
	</pattern:participants>
</pattern:specification>
