<HTML>

<HEAD><TITLE>Flyweight</TITLE></HEAD>

<BODY>

<H2>Intent</H2>
<P>Use sharing to support large numbers of fine-grained objects efficiently.</P>

<H2>Solution Overview</H2>

<UL>
<LI>State that a flyweight needs to function must be characterized as
either intrinsic or extrinsic. Intrinsic state is stored in the
ConcreteFlyweight object; extrinsic state is stored or computed by
Client objects. Clients pass this state to the flyweight when
they invoke its operations.</LI><P></P>

<LI>Clients should not instantiate ConcreteFlyweights directly. Clients
must obtain ConcreteFlyweight objects exclusively from the
FlyweightFactory object to ensure they are shared properly.</LI>
</UL>


<P ALIGN=LEFT><IMG SRC="Pictures/flywe050.gif">

<H3>Participants</H3>

<UL>
<LI><B>Flyweight</B><P></P>
<UL><LI>declares an interface through which flyweights can
    receive and act on extrinsic state.</LI></UL><P></P>

<LI><B>ConcreteFlyweight</B> (Character)</LI><P></P>
<UL><LI>implements the Flyweight interface and adds storage for
    intrinsic state, if any.  A ConcreteFlyweight object must be sharable. Any
    state it stores must be intrinsic; that is, it must be
    independent of the ConcreteFlyweight object's context.</LI></UL><P></P>

<LI><B>UnsharedConcreteFlyweight</B> (Row, Column)</LI><P></P>
<UL><LI>not all Flyweight subclasses need to be shared.  The
    Flyweight interface <EM>enables</EM> sharing; it doesn't enforce it.
    It's common for UnsharedConcreteFlyweight objects to have
    ConcreteFlyweight objects as children at
    some level in the flyweight object structure
    (as the Row and Column classes have).</LI></UL><P></P>

<LI><B>FlyweightFactory</B></LI><P></P>
<UL><LI>creates and manages flyweight objects.</LI><P></P>
<LI>ensures that flyweights are shared properly.
    When a client requests a flyweight, the FlyweightFactory object supplies
    an existing instance or creates one, if none exists.</UL><P></P>

<LI><B>Client</B></LI><P></P>
<UL><LI>maintains a reference to flyweight(s).</LI><P></P>
<LI>computes or stores the extrinsic state of flyweight(s).</LI></UL>
</UL>

<H2>Classification</H2>
<P>The Flyweight design pattern is not known by another name.</P>

</BODY>

</HTML>