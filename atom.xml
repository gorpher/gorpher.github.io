<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>大道至简</title>
  
  <subtitle>以不变应万变</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.matosiki.site/"/>
  <updated>2020-05-08T03:44:42.543Z</updated>
  <id>http://www.matosiki.site/</id>
  
  <author>
    <name>matosiki</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title></title>
    <link href="http://www.matosiki.site/2020/05/08/blog/tools/%E9%AB%98%E6%95%88%E7%9A%84%E4%BD%BF%E7%94%A8Postman%E8%BF%9B%E8%A1%8CAPI%E8%B0%83%E8%AF%95/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/tools/高效的使用Postman进行API调试/</id>
    <published>2020-05-08T03:44:42.543Z</published>
    <updated>2020-05-08T03:44:42.543Z</updated>
    
    <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>在postman使用中,很多接口使用共同的请求地址和相同的参数,这样我们可以定义一些公共的环境变量,每个collection可以使用变量.postman也内置了一些变量,比如生成随机数,生成字符串,生成id,这些变量用于表单测试是非常方便的.</p><p>下面我就简简单单定义变量和请求参数自定义装饰器并测试结果.</p><h3 id="定义环境变量"><a href="#定义环境变量" class="headerlink" title="定义环境变量"></a>定义环境变量</h3><p><img src="http://img.matosiki.site/image/postman/postman_def_env_variable.png" alt="img"><br>在postman中可以自定义环境变量,我们可以添加全局变量也可以添加自定义collection的变量,这里我定义了一个,eureka集合的变量,其中包含主机名和端口地址等变量.</p><h3 id="使用变量"><a href="#使用变量" class="headerlink" title="使用变量"></a>使用变量</h3><p>使用变量目前有三种方式:</p><ul><li>第一种如图,在表单中添加变量,注意使用<strong>  </strong>中的变量将会被定义的变量值替换掉</li></ul><p><img src="http://img.matosiki.site/image/postman/postman_use_env_variable_form_data.png" alt="img"></p><ul><li>第二种如图, 在使用application/json的方式发送请求时,就没办法使用<strong>  </strong>形式的变量.此时我们需要在pre-request-Srcipt中手动些装饰器,将<strong></strong>替换掉.<br>在这种方式下可分为两种具体实现:</li></ul><ol><li>方式一:将使用replace替换<strong>  </strong>内置变量</li><li>方式二:解析json为obj对象,然后更改obj对象的值</li></ol><p><img src="http://img.matosiki.site/image/postman/postman_use_env_variable_json.png" alt="img"></p><p>json请求值:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;instance&quot;: &#123;</span><br><span class="line">        &quot;instanceId&quot;: &quot;&#123;&#123;appID&#125;&#125;:11101&quot;,</span><br><span class="line">        &quot;app&quot;: &quot;&#123;&#123;appID&#125;&#125;&quot;,</span><br><span class="line">        &quot;appGroutName&quot;: null,</span><br><span class="line">        &quot;ipAddr&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">        &quot;sid&quot;: &quot;na&quot;,</span><br><span class="line">        &quot;homePageUrl&quot;: null,</span><br><span class="line">        &quot;statusPageUrl&quot;: null,</span><br><span class="line">        &quot;healthCheckUrl&quot;: null,</span><br><span class="line">        &quot;secureHealthCheckUrl&quot;: null,</span><br><span class="line">        &quot;vipAddress&quot;: &quot;tf-service&quot;,</span><br><span class="line">        &quot;secureVipAddress&quot;: &quot;tf-service&quot;,</span><br><span class="line">        &quot;countryId&quot;: 1,</span><br><span class="line">        &quot;dataCenterInfo&quot;: &#123;</span><br><span class="line">            &quot;@class&quot;: &quot;com.netflix.appinfo.InstanceInfo$DefaultDataCenterInfo&quot;,</span><br><span class="line">            &quot;name&quot;: &quot;MyOwn&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;hostName&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">        &quot;status&quot;: &quot;UP&quot;,</span><br><span class="line">        &quot;leaseInfo&quot;: null,</span><br><span class="line">        &quot;isCoordinatingDiscoveryServer&quot;: false,</span><br><span class="line">        &quot;lastUpdatedTimestamp&quot;: 1529391461000,</span><br><span class="line">        &quot;lastDirtyTimestamp&quot;: 1529391461000,</span><br><span class="line">        &quot;actionType&quot;: null,</span><br><span class="line">        &quot;asgName&quot;: null,</span><br><span class="line">        &quot;overridden_status&quot;: &quot;UNKNOWN&quot;,</span><br><span class="line">        &quot;port&quot;: &#123;</span><br><span class="line">            &quot;$&quot;: 11102,</span><br><span class="line">            &quot;@enabled&quot;: &quot;false&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;securePort&quot;: &#123;</span><br><span class="line">            &quot;$&quot;: 7002,</span><br><span class="line">            &quot;@enabled&quot;: &quot;false&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;metadata&quot;: &#123;</span><br><span class="line">            &quot;@class&quot;: &quot;java.util.Collections$EmptyMap&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>pre-request-Srcipt中的内容<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// 检查请求头是否是json</span><br><span class="line"></span><br><span class="line">function isJsonReq()&#123;</span><br><span class="line">   var header =  pm.request.headers;</span><br><span class="line">   header.each(function(v)&#123;</span><br><span class="line">       if(v[&apos;key&apos;]==&apos;Content-Type&apos;&amp;&amp;v[&apos;value&apos;]==&quot;application/json&quot;)&#123;</span><br><span class="line">           return true;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;);</span><br><span class="line">   return false;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">// 方法一: 替换全局变量</span><br><span class="line">pm.request.body.raw = replace(pm.request.body.raw);</span><br><span class="line">console.log(pm.request)</span><br><span class="line"></span><br><span class="line">function replace(reqbody)&#123;</span><br><span class="line">    if(reqbody&amp;&amp;isJsonReq())&#123;</span><br><span class="line">        var values = pm.environment.values;</span><br><span class="line">        values.each(function(v)&#123;</span><br><span class="line">          reqbody = reqbody.replace(new RegExp(&quot;&#123;&#123;&quot;+v[&apos;key&apos;]+&quot;&#125;&#125;&quot;,&apos;g&apos;),v[&apos;value&apos;])</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    return reqbody;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// 方法二: 动态生成编号</span><br><span class="line"></span><br><span class="line">gen(pm.request.body.raw);</span><br><span class="line"></span><br><span class="line">console.log(pm.ace)</span><br><span class="line"></span><br><span class="line">function gen(reqbody)&#123;</span><br><span class="line">    if(reqbody&amp;&amp;isJsonReq())&#123;</span><br><span class="line">       var obj = JSON.parse(reqbody)</span><br><span class="line">       obj = doit(obj) //实现对象属性值替换</span><br><span class="line">       pm.request.body.raw =  JSON.stringify(obj)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function doit(obj)&#123;</span><br><span class="line">    obtuoj[&apos;instance&apos;][&apos;instanceID&apos;]=require(&apos;uuid&apos;)();</span><br><span class="line">    // todo 替换变量</span><br><span class="line">    console.log(obj)</span><br><span class="line">    return obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="使用高级js库"><a href="#使用高级js库" class="headerlink" title="使用高级js库"></a>使用高级js库</h3><p>在postman的沙盒环境中,我们可以使用一些高级的js库.<br>我们可以在pre-request-script和end-test中使用.<br><img src="http://img.matosiki.site/image/postman/postman_pre_script.png" alt="img"></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var Ajv = require(&apos;ajv&apos;);</span><br><span class="line">var ajv = new Ajv();</span><br><span class="line">// 根据schema验证json</span><br><span class="line">// var validate = ajv.compile(schema);</span><br><span class="line">// var valid = validate(data);</span><br><span class="line">// if (!valid) console.log(validate.errors);</span><br><span class="line"></span><br><span class="line">// atob </span><br><span class="line">var atob = require(&apos;atob&apos;);</span><br><span class="line">var b64 = &quot;SGVsbG8sIFdvcmxkIQ==&quot;;</span><br><span class="line">var bin = atob(b64); // base64转ascii码</span><br><span class="line">console.log(bin);</span><br><span class="line"></span><br><span class="line">var btoa = require(&apos;btoa&apos;);</span><br><span class="line">var b64 = btoa(bin);</span><br><span class="line">console.log(b64);</span><br><span class="line"></span><br><span class="line">var should = require(&apos;chai&apos;).should() // BDD/TDD assert 库</span><br><span class="line">  , foo = &apos;bar&apos;</span><br><span class="line">  , beverages = &#123; tea: [ &apos;chai&apos;, &apos;matcha&apos;, &apos;oolong&apos; ] &#125;;</span><br><span class="line"></span><br><span class="line">foo.should.be.a(&apos;string&apos;);</span><br><span class="line">foo.should.equal(&apos;bar&apos;);</span><br><span class="line">foo.should.have.lengthOf(3);</span><br><span class="line">beverages.should.have.property(&apos;tea&apos;).with.lengthOf(3)</span><br><span class="line"></span><br><span class="line">var CryptoJS = require(&quot;crypto-js&quot;);</span><br><span class="line">console.log(CryptoJS.HmacSHA1(&quot;Message&quot;, &quot;Key&quot;));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var moment = require(&apos;moment&apos;);</span><br><span class="line">console.log(moment().format())</span><br><span class="line"></span><br><span class="line">const uuidv1 = require(&apos;uuid&apos;);</span><br><span class="line">console.log(uuidv1())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const &#123; StringDecoder &#125; = require(&apos;string_decoder&apos;);</span><br><span class="line">const decoder = new StringDecoder(&apos;utf8&apos;);</span><br><span class="line">const cent = Buffer.from([0xC2, 0xA2]);</span><br><span class="line">console.log(decoder.write(cent));</span><br><span class="line">const path = require(&apos;path&apos;);</span><br><span class="line">console.log(path.basename(&apos;C:\\temp\\myfile.html&apos;))</span><br><span class="line">const assert = require(&apos;assert&apos;);</span><br><span class="line"></span><br><span class="line">assert.deepEqual([[[1, 2, 3]], 4, 5], [[[1, 2, &apos;3&apos;]], 4, 5]);</span><br><span class="line"></span><br><span class="line">const util = require(&apos;util&apos;);</span><br><span class="line"></span><br><span class="line">// console.log(require(&apos;lodash&apos;).join([1,24,5],[1234]))</span><br><span class="line"></span><br><span class="line">var _ = require(&apos;lodash&apos;);</span><br><span class="line">console.log(_.random(5, true)) //生成随机数1-5</span><br><span class="line">var abc = function(a,b,c)&#123;</span><br><span class="line">    return [a,b,c];</span><br><span class="line">&#125;</span><br><span class="line">var curried = _.curry(abc);</span><br><span class="line">console.log(curried(1)(2)(3)) //函数柯里化</span><br><span class="line">console.log(_.now()) //获取当前时间搓</span><br><span class="line"></span><br><span class="line">var timer = require(&apos;timers&apos;)</span><br><span class="line">console.log(timer)</span><br></pre></td></tr></table></figure><h3 id="测试结果"><a href="#测试结果" class="headerlink" title="测试结果"></a>测试结果</h3><p>在每次请求后还可以编写断言脚本验证结果</p><p><img src="http://img.matosiki.site/image/postman/postman_end_test.png" alt="img"></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tests[&quot;请求成功&quot;] = responseCode.code === 204;</span><br><span class="line">pm.test(&quot;注册新实例成功&quot;, function () &#123;</span><br><span class="line">    pm.response.to.have.body(&quot;&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>参考:</p><ul><li><a href="https://learning.getpostman.com/docs/postman/scripts/postman_sandbox_api_reference/" target="_blank" rel="noopener">postman官方文档-sanbox</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h2&gt;&lt;p&gt;在postman使用中,很多接口使用共同的请求地址和相同的参数,这样我们可以定义一些公共的环境变量,每个collection可以使用变量.p
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://www.matosiki.site/2020/05/08/blog/tools/%E9%AB%98%E6%95%88%E7%9A%84%E4%BD%BF%E7%94%A8Postman%E8%BF%9B%E8%A1%8CMock%20Server/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/tools/高效的使用Postman进行Mock Server/</id>
    <published>2020-05-08T03:44:42.543Z</published>
    <updated>2020-05-08T03:44:42.543Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-添加Example"><a href="#1-添加Example" class="headerlink" title="1. 添加Example"></a>1. 添加Example</h3><p>在自己添加的collection中,正常测试完成,将response保存为Example.这样防止API接口断供后,无法获取数据,这样可以从Example中查看到保存的Response.</p><p>但是如果你想,根据Example做一个MockServer,这样每次访问接口都能拿到Example中Response的结果了.<br>接下来,第一步将Response保存到Example中.<br><img src="http://img.matosiki.site/image/postman_request_example.png" alt=""></p><p>在弹出的页面中填写好Example的名称,还可以自己调正Response返回的值.<br><img src="http://img.matosiki.site/image/postman_request_example_save.png" alt=""></p><h3 id="2-添加mock环境"><a href="#2-添加mock环境" class="headerlink" title="2. 添加mock环境"></a>2. 添加mock环境</h3><p>正常情况下有一个collection的环境,但为了mock测试方便,新建一个mock环境.<br><img src="http://img.matosiki.site/image/postman_request_env_mock.png" alt=""><br>注意: mock环境中有两个变量,<strong>x-api-key</strong>这个需要在自己的workspace上生成, <strong>url</strong>这个需要等到mock server 创建时填写.<br><img src="http://img.matosiki.site/image/postman_request_env_mock_edit.png" alt=""></p><h3 id="3-新建mock-server"><a href="#3-新建mock-server" class="headerlink" title="3.新建mock server"></a>3.新建mock server</h3><p>在postman中,点击<strong>New</strong>按钮,选择Mock Server,会看到如下图对话框<br>在第一步中选择 <strong>Select an existing collection</strong> 选择 <strong>eureka</strong>collection,点击<strong>Next</strong>.<br><img src="http://img.matosiki.site/image/postman_mock_server_new.png" alt=""><br>第二步,设置mock server,注意选择 eureka mock 环境,并且注意要去自己的workspace生成<strong>x-api-key</strong>,再点击<strong>Next</strong>,页面会返回一个URL,这个就是Mock URL,复制这个变量拷贝到mock环境变量中,到这里差不多就快完成了,还有最后<br><img src="http://img.matosiki.site/image/postman_mock_server_new_api.png" alt=""></p><p>如果找不到Mock Server Url 也可以去workspace中找到.<br><img src="http://img.matosiki.site/image/postman_mock_server_web.png" alt=""></p><h3 id="4-生成API-KEY"><a href="#4-生成API-KEY" class="headerlink" title="4.生成API-KEY"></a>4.生成API-KEY</h3><p>进入自己的workspace,生成自己的API key,复制Api-key到mock 环境中,完成了mock环境配置.<br><img src="http://img.matosiki.site/image/postman_api_key_web.png" alt=""></p><h3 id="5-Runner测试"><a href="#5-Runner测试" class="headerlink" title="5.Runner测试"></a>5.Runner测试</h3><p>最后我们来测试mock server,选择collection,添加Runner,选择环境变量,运行测试.<br><img src="http://img.matosiki.site/image/postman_mock_server_new_mock_test.png" alt=""><br>查看测试结果<br><img src="http://img.matosiki.site/image/postman_mock_server_new_mock_test_success.png" alt=""></p><p>总结: 如何使用postman进行mock server 对接口进行测试.</p><h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><ul><li><a href="https://learning.getpostman.com/docs/postman/postman_api/intro_api/" target="_blank" rel="noopener">Postman API</a></li><li><a href="https://learning.getpostman.com/docs/postman/collections/examples/" target="_blank" rel="noopener">Postman Examples</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;1-添加Example&quot;&gt;&lt;a href=&quot;#1-添加Example&quot; class=&quot;headerlink&quot; title=&quot;1. 添加Example&quot;&gt;&lt;/a&gt;1. 添加Example&lt;/h3&gt;&lt;p&gt;在自己添加的collection中,正常测试完成,将respon
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>jvm工作原理</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/jvm%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/jvm工作原理/</id>
    <published>2020-05-08T03:44:42.542Z</published>
    <updated>2020-05-08T03:44:42.542Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、-JVM的生命周期"><a href="#一、-JVM的生命周期" class="headerlink" title="一、    JVM的生命周期"></a>一、    JVM的生命周期</h1><ol><li>JVM实例对应了一个独立运行的java程序它是进程级别<br>a)    启动。启动一个Java程序时，一个JVM实例就产生了，任何一个拥有public static void main(String[] args)函数的class都可以作为JVM实例运行的起点<br>b)    运行。main()作为该程序初始线程的起点，任何其他线程均由该线程启动。JVM内部有两种线程：守护线程和非守护线程，main()属于非守护线程，守护线程通常由JVM<br>自己使用，java程序也可以标明自己创建的线程是守护线程<br>c)    消亡。当程序中的所有非守护线程都终止时，JVM才退出；若安全管理器允许，程序也可以使用Runtime类或者System.exit()来退出</li><li>JVM执行引擎实例则对应了属于用户运行程序的线程它是线程级别的</li></ol><h1 id="二、-JVM的体系结构"><a href="#二、-JVM的体系结构" class="headerlink" title="二、    JVM的体系结构"></a>二、    JVM的体系结构</h1><p><img src="http://img.matosiki.site/image/jvm/jvm-struct.png" alt="jvm体系结构"></p><ol><li>类装载器（ClassLoader）（用来装载.class文件）</li><li>执行引擎（执行字节码，或者执行本地方法）</li><li>运行时数据区（方法区、堆、java栈、PC寄存器、本地方法栈）</li></ol><h1 id="三、-JVM类加载器"><a href="#三、-JVM类加载器" class="headerlink" title="三、    JVM类加载器"></a>三、    JVM类加载器</h1><p><strong>JVM整个类加载过程的步骤：</strong></p><ol><li><strong>装载</strong><br>装载过程负责找到二进制字节码并加载至JVM中，JVM通过类名、类所在的包名通过ClassLoader来完成类的加载，<br>同样，也采用以上三个元素来标识一个被加载了的类：类名+包名+ClassLoader实例ID。</li><li><strong>链接</strong><br>链接过程负责对二进制字节码的格式进行校验、初始化装载类中的静态变量以及解析类中调用的接口、类。<br>完成校验后，JVM初始化类中的静态变量，并将其值赋为默认值。<br>最后对类中的所有属性、方法进行验证，以确保其需要调用的属性、方法存在，以及具备应的权限（例如public、private域权限等），<br>会造成NoSuchMethodError、NoSuchFieldError等错误信息。</li><li><strong>初始化</strong><br>初始化过程即为执行类中的静态初始化代码、构造器代码以及静态属性的初始化，在四种情况下初始化过程会被触发执行：<br>调用了new；<br>反射调用了类中的方法；<br>子类调用了初始化；<br>JVM启动过程中指定的初始化类。</li></ol><p><strong>VM类加载顺序：</strong><br><img src="http://img.matosiki.site/image/jvm/jvm-loader.png" alt="jvm加载顺序"><br><strong>JVM两种类装载器包括：</strong>启动类装载器和用户自定义类装载器。<br>启动类装载器是JVM实现的一部分；<br>用户自定义类装载器则是Java程序的一部分，必须是ClassLoader类的子类。<br><strong>JVM装载顺序：</strong><br>    Jvm启动时，由Bootstrap向User-Defined方向加载类；<br>    应用进行ClassLoader时，由User-Defined向Bootstrap方向查找并加载类；</p><ol><li><strong>Bootstrap ClassLoaderzh</strong><br>这是JVM的根ClassLoader，它是用C++实现的，JVM启动时初始化此ClassLoader，并由此ClassLoader完成$JAVA_HOME中jre/lib/rt.jar（Sun JDK的实现）<br>中所有class文件的加载，这个jar中包含了java规范定义的所有接口以及实现。</li><li><strong>Extension ClassLoader</strong><br>JVM用此classloader来加载扩展功能的一些jar包。</li><li><strong>System ClassLoader</strong><br>JVM用此classloader来加载启动参数中指定的Classpath中的jar包以及目录，在Sun JDK中ClassLoader对应的类名为AppClassLoader。</li><li><strong>User-Defined ClassLoader</strong><br>User-DefinedClassLoader是Java开发人员继承ClassLoader抽象类自行实现的ClassLoader，基于自定义的ClassLoader可用于加载非Classpath中的jar以及目录。</li></ol><p><strong>ClassLoader抽象类的几个关键方法：</strong><br>（1）    loadClass<br>  此方法负责加载指定名字的类，ClassLoader的实现方法为先从已经加载的类中寻找，如没有则继续从parent ClassLoader中寻找，<br>如仍然没找到，则从System ClassLoader中寻找，最后再调用findClass方法来寻找，如要改变类的加载顺序，则可覆盖此方法<br>（2）    findLoadedClass<br>此方法负责从当前ClassLoader实例对象的缓存中寻找已加载的类，调用的为native的方法。<br>（3）    findClass<br>此方法直接抛出ClassNotFoundException，因此需要通过覆盖loadClass或此方法来以自定义的方式加载相应的类。<br>（4）    findSystemClass<br>此方法负责从System ClassLoader中寻找类，如未找到，则继续从Bootstrap ClassLoader中寻找，如仍然为找到，则返回null。<br>（5）    defineClass<br>此方法负责将二进制的字节码转换为Class对象<br>（6）    resolveClass<br>此方法负责完成Class对象的链接，如已链接过，则会直接返回。</p><h1 id="四、-JVM执行引擎"><a href="#四、-JVM执行引擎" class="headerlink" title="四、    JVM执行引擎"></a>四、    JVM执行引擎</h1><p><strong>在执行方法时JVM提供了四种指令来执行：</strong><br>（1）invokestatic：调用类的static方法<br>（2）invokevirtual：调用对象实例的方法<br>（3）invokeinterface：将属性定义为接口来进行调用<br>（4）invokespecial：JVM对于初始化对象（Java构造器的方法为：<init>）以及调用对象实例中的私有方法时。</init></p><p><strong>主要的执行技术有:</strong><br>解释，即时编译，自适应优化、芯片级直接执行<br>（1）解释属于第一代JVM，<br>（2）即时编译JIT属于第二代JVM，<br>（3）自适应优化（目前Sun的HotspotJVM采用这种技术）则吸取第一代JVM和第二代<br>JVM的经验，采用两者结合的方式<br>  开始对所有的代码都采取解释执行的方式，并监视代码执行情况，然后对那些经常调用的方法启动一个后台线程，将其编译为本地代码，<br>并进行优化。若方法不再频繁使用，则取消编译过的代码，仍对其进行解释执行。</p><h1 id="五、-JVM运行时数据区"><a href="#五、-JVM运行时数据区" class="headerlink" title="五、    JVM运行时数据区"></a>五、    JVM运行时数据区</h1><p><img src="http://img.matosiki.site/image/jvm/jvm-memory.png" alt=""><br><strong>第一块：PC寄存器</strong><br>PC寄存器是用于存储每个线程下一步将执行的JVM指令，如该方法为native的，则PC寄存器中不存储任何信息。<br><strong>第二块：JVM栈</strong><br>JVM栈是线程私有的，每个线程创建的同时都会创建JVM栈，JVM栈中存放的为当前线程中局部基本类型的变量（java中定义的八种基本类型：boolean、char、byte、short、int、long、float、double）、部分的返回结果以及Stack Frame，非基本类型的对象在JVM栈上仅存放一个指向堆上的地址<br><strong>第三块：堆（Heap）</strong><br>它是JVM用来存储对象实例以及数组值的区域，可以认为Java中所有通过new创建的对象的内存都在此分配，Heap中的对象的内存需要等待GC进行回收。<br><img src="http://img.matosiki.site/image/jvm/jvm-heap.png" alt=""><br>（1）    堆是JVM中所有线程共享的，因此在其上进行对象内存的分配均需要进行加锁，这也导致了new对象的开销是比较大的<br>（2）    Sun Hotspot JVM为了提升对象内存分配的效率，对于所创建的线程都会分配一块独立的空间TLAB（Thread Local Allocation Buffer），其大小由JVM根据运行的情况计算而得，在TLAB上分配对象时不需要加锁，因此JVM在给线程的对象分配内存时会尽量的在TLAB上分配，在这种情况下JVM中分配对象内存的性能和C基本是一样高效的，但如果对象过大的话则仍然是直接使用堆空间分配<br>（3）    TLAB仅作用于新生代的Eden Space，因此在编写Java程序时，通常多个小的对象比大的对象分配起来更加高效。<br><strong>第四块：方法区域（Method Area）</strong><br>（1）在Sun JDK中这块区域对应的为PermanetGeneration，又称为持久代。<br>（2）方法区域存放了所加载的类的信息（名称、修饰符等）、类中的静态变量、类中定义为final类型的常量、类中的Field信息、类中的方法信息，当开发人员在程序中通过Class<br>  对象中的getName、isInterface等方法来获取信息时，这些数据都来源于方法区域，同时方法区域也是全局共享的，在一定的条件下它也会被GC，<br>当方法区域需要使用的内存超过其允许的大小时，会抛出OutOfMemory的错误信息。<br><strong>第五块：运行时常量池（Runtime Constant Pool）</strong><br>存放的为类中的固定的常量信息、方法和Field的引用信息等，其空间从方法区域中分配。<br><strong>第六块：本地方法堆栈（Native Method Stacks）</strong><br>JVM采用本地方法堆栈来支持native方法的执行，此区域用于存储每个native方法调用的状态。</p><h1 id="六、-JVM垃圾回收"><a href="#六、-JVM垃圾回收" class="headerlink" title="六、    JVM垃圾回收"></a>六、    JVM垃圾回收</h1><p><strong>GC的基本原理：</strong> 将内存中不再被使用的对象进行回收，GC中用于回收的方法称为收集器，由于GC需要消耗一些资源和时间，Java在对对象的生命周期特征进行分析后，按照新生代、旧生代的方式来对对象进行收集，以尽可能的缩短GC对应用造成的暂停<br>（1）对新生代的对象的收集称为minor GC；<br>（2）对旧生代的对象的收集称为Full GC；<br>（3）程序中主动调用System.gc()强制执行的GC为Full GC。<br><strong>不同的对象引用类型， GC会采用不同的方法进行回收，JVM对象的引用分为了四种类型：</strong><br>（1）强引用：默认情况下，对象采用的均为强引用（这个对象的实例没有其他对象引用，GC时才会被回收）<br>（2）软引用：软引用是Java中提供的一种比较适合于缓存场景的应用（只有在内存不够用的情况下才会被GC）<br>（3）弱引用：在GC时一定会被GC回收<br>（4）虚引用：由于虚引用只是用来得知对象是否被GC</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;一、-JVM的生命周期&quot;&gt;&lt;a href=&quot;#一、-JVM的生命周期&quot; class=&quot;headerlink&quot; title=&quot;一、    JVM的生命周期&quot;&gt;&lt;/a&gt;一、    JVM的生命周期&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;JVM实例对应了一个独立运行的java程序它
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java分割字符串的三种方式</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/java%E5%88%86%E5%89%B2%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/java分割字符串的三种方式/</id>
    <published>2020-05-08T03:44:42.541Z</published>
    <updated>2020-05-08T03:44:42.541Z</updated>
    
    <content type="html"><![CDATA[<h1 id="使用java原生String-split-方法"><a href="#使用java原生String-split-方法" class="headerlink" title="使用java原生String.split()方法"></a>使用java原生<strong>String.split()</strong>方法</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String[] splitted = <span class="string">"peter,james,thomas"</span>.split(<span class="string">","</span>);  <span class="comment">// 逗号分割</span></span><br><span class="line">String[] splitted = <span class="string">"car jeep scooter"</span>.split(<span class="string">" "</span>); <span class="comment">// 空格分割</span></span><br><span class="line">String[] splitted = <span class="string">"192.168.1.178"</span>.split(<span class="string">"\\."</span>)  <span class="comment">// 点分割</span></span><br><span class="line"></span><br><span class="line">String[] splitted = <span class="string">"b a, e, l.d u, n g"</span>.split(<span class="string">"\\s+|,\\s*|\\.\\s*"</span>));  <span class="comment">//则这表达式多个分割符</span></span><br></pre></td></tr></table></figure><h1 id="使用工具类Common包下的StringUtils-split-方法"><a href="#使用工具类Common包下的StringUtils-split-方法" class="headerlink" title="使用工具类Common包下的StringUtils.split()方法"></a>使用工具类Common包下的<strong>StringUtils.split()</strong>方法</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String[] splitted = StringUtils.split(<span class="string">"car jeep scooter"</span>); <span class="comment">//默认空白分割</span></span><br></pre></td></tr></table></figure><h1 id="使用guava工具包的Splitter流"><a href="#使用guava工具包的Splitter流" class="headerlink" title="使用guava工具包的Splitter流"></a>使用guava工具包的<strong>Splitter</strong>流</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; resultList = Splitter.on(<span class="string">','</span>)</span><br><span class="line">  .trimResults()</span><br><span class="line">  .omitEmptyStrings()</span><br><span class="line">  .splitToList(<span class="string">"car,jeep,, scooter"</span>);</span><br></pre></td></tr></table></figure><p>总结: String成员方法分割字符串处理简单分割比较容易,但是复杂一点使用工具类还是比较方法. 预先善其事必先利其器,多学习一些工具类的使用,提高开发效率也还不错.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;使用java原生String-split-方法&quot;&gt;&lt;a href=&quot;#使用java原生String-split-方法&quot; class=&quot;headerlink&quot; title=&quot;使用java原生String.split()方法&quot;&gt;&lt;/a&gt;使用java原生&lt;strong&gt;
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java回文数字判断方式</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/java%E5%9B%9E%E6%96%87%E6%95%B0%E5%AD%97%E5%88%A4%E6%96%AD/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/java回文数字判断/</id>
    <published>2020-05-08T03:44:42.541Z</published>
    <updated>2020-05-08T03:44:42.541Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-使用原生java方式"><a href="#1-使用原生java方式" class="headerlink" title="1. 使用原生java方式"></a>1. 使用原生java方式</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindrome</span><span class="params">(String text)</span> </span>&#123;</span><br><span class="line">    String clean = text.replaceAll(<span class="string">"\\s+"</span>, <span class="string">""</span>).toLowerCase();</span><br><span class="line">    <span class="keyword">int</span> length = clean.length();</span><br><span class="line">    <span class="keyword">int</span> forward = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> backward = length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (backward &gt; forward) &#123; <span class="comment">//两边指针同时变动,比较.</span></span><br><span class="line">        <span class="keyword">char</span> forwardChar = clean.charAt(forward++);</span><br><span class="line">        <span class="keyword">char</span> backwardChar = clean.charAt(backward--);</span><br><span class="line">        <span class="keyword">if</span> (forwardChar != backwardChar)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="2-使用字符串reverse比较"><a href="#2-使用字符串reverse比较" class="headerlink" title="2. 使用字符串reverse比较"></a>2. 使用字符串reverse比较</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindromeReverseTheString</span><span class="params">(String text)</span> </span>&#123;</span><br><span class="line">    StringBuilder reverse = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    String clean = text.replaceAll(<span class="string">"\\s+"</span>, <span class="string">""</span>).toLowerCase();</span><br><span class="line">    <span class="keyword">char</span>[] plain = clean.toCharArray();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = plain.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        reverse.append(plain[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (reverse.toString()).equals(clean);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="3-使用stringbuffer-和stringbuilder直接翻转字符串比较"><a href="#3-使用stringbuffer-和stringbuilder直接翻转字符串比较" class="headerlink" title="3. 使用stringbuffer 和stringbuilder直接翻转字符串比较"></a>3. 使用<strong>stringbuffer </strong>和<strong>stringbuilder</strong>直接翻转字符串比较</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindromeUsingStringBuilder</span><span class="params">(String text)</span> </span>&#123;</span><br><span class="line">    String clean = text.replaceAll(<span class="string">"\\s+"</span>, <span class="string">""</span>).toLowerCase();</span><br><span class="line">    StringBuilder plain = <span class="keyword">new</span> StringBuilder(clean);</span><br><span class="line">    StringBuilder reverse = plain.reverse();</span><br><span class="line">    <span class="keyword">return</span> (reverse.toString()).equals(clean);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindromeUsingStringBuffer</span><span class="params">(String text)</span> </span>&#123;</span><br><span class="line">    String clean = text.replaceAll(<span class="string">"\\s+"</span>, <span class="string">""</span>).toLowerCase();</span><br><span class="line">    StringBuffer plain = <span class="keyword">new</span> StringBuffer(clean);</span><br><span class="line">    StringBuffer reverse = plain.reverse();</span><br><span class="line">    <span class="keyword">return</span> (reverse.toString()).equals(clean);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="4-使用java8-intStream"><a href="#4-使用java8-intStream" class="headerlink" title="4. 使用java8 intStream"></a>4. 使用java8 intStream</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindromeUsingIntStream</span><span class="params">(String text)</span> </span>&#123;</span><br><span class="line">    String temp  = text.replaceAll(<span class="string">"\\s+"</span>, <span class="string">""</span>).toLowerCase();</span><br><span class="line">    <span class="keyword">return</span> IntStream.range(<span class="number">0</span>, temp.length() / <span class="number">2</span>)</span><br><span class="line">      .noneMatch(i -&gt; temp.charAt(i) != temp.charAt(temp.length() - i - <span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="5-使用递归调用"><a href="#5-使用递归调用" class="headerlink" title="5. 使用递归调用"></a>5. 使用递归调用</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindromeRecursive</span><span class="params">(String text)</span></span>&#123;</span><br><span class="line">    String clean = text.replaceAll(<span class="string">"\\s+"</span>, <span class="string">""</span>).toLowerCase();</span><br><span class="line">    <span class="keyword">return</span> recursivePalindrome(clean,<span class="number">0</span>,clean.length()-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">recursivePalindrome</span><span class="params">(String text, <span class="keyword">int</span> forward, <span class="keyword">int</span> backward)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (forward == backward) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> ((text.charAt(forward)) != (text.charAt(backward))) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (forward &lt; backward + <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> recursivePalindrome(text, forward + <span class="number">1</span>, backward - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>总结: 回文数验证分两种 一种是<strong>移动下标</strong>比较 另一种是 <strong>翻转</strong> 比较,翻转比较性能没有下标比较好,<br>所以建议使用java8 InStrean<strong>nomatch</strong>方法</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;1-使用原生java方式&quot;&gt;&lt;a href=&quot;#1-使用原生java方式&quot; class=&quot;headerlink&quot; title=&quot;1. 使用原生java方式&quot;&gt;&lt;/a&gt;1. 使用原生java方式&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java字符类型转字符串类型六种方式</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/java%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E5%85%AD%E7%A7%8D%E6%96%B9%E5%BC%8F/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/java字符类型转字符串类型六种方式/</id>
    <published>2020-05-08T03:44:42.541Z</published>
    <updated>2020-05-08T03:44:42.541Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-使用String-valueOf-方法"><a href="#1-使用String-valueOf-方法" class="headerlink" title="1. 使用String.valueOf()方法"></a>1. 使用<strong>String.valueOf()</strong>方法</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenChar_whenCallingStringValueOf_shouldConvertToString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> givenChar = <span class="string">'x'</span>;</span><br><span class="line"> </span><br><span class="line">    String result = String.valueOf(givenChar);</span><br><span class="line"> </span><br><span class="line">    assertThat(result).isEqualTo(<span class="string">"x"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="2-使用-Character-toString-方法"><a href="#2-使用-Character-toString-方法" class="headerlink" title="2. 使用 Character.toString() 方法"></a>2. 使用<strong> Character.toString()</strong> 方法</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenChar_whenCallingToStringOnCharacter_shouldConvertToString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> givenChar = <span class="string">'x'</span>;</span><br><span class="line"> </span><br><span class="line">    String result = Character.toString(givenChar);</span><br><span class="line"> </span><br><span class="line">    assertThat(result).isEqualTo(<span class="string">"x"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="3-使用Character的构造方法"><a href="#3-使用Character的构造方法" class="headerlink" title="3. 使用Character的构造方法"></a>3. 使用<strong>Character</strong>的构造方法</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenChar_whenCallingCharacterConstructor_shouldConvertToString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> givenChar = <span class="string">'x'</span>;</span><br><span class="line"> </span><br><span class="line">    String result = <span class="keyword">new</span> Character(givenChar).toString();</span><br><span class="line"> </span><br><span class="line">    assertThat(result).isEqualTo(<span class="string">"x"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="4-通过String的隐式转换"><a href="#4-通过String的隐式转换" class="headerlink" title="4. 通过String的隐式转换"></a>4. 通过String的隐式转换</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenChar_whenConcatenated_shouldConvertToString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> givenChar = <span class="string">'x'</span>;</span><br><span class="line"> </span><br><span class="line">    String result = givenChar + <span class="string">""</span>;</span><br><span class="line"> </span><br><span class="line">    assertThat(result).isEqualTo(<span class="string">"x"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="5"><a href="#5" class="headerlink" title="5."></a>5.</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenChar_whenFormated_shouldConvertToString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> givenChar = <span class="string">'x'</span>;</span><br><span class="line"> </span><br><span class="line">    String result = String.format(<span class="string">"%c"</span>, givenChar);</span><br><span class="line"> </span><br><span class="line">    assertThat(result).isEqualTo(<span class="string">"x"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>总结: 常用Stirng的隐式转换方式.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;1-使用String-valueOf-方法&quot;&gt;&lt;a href=&quot;#1-使用String-valueOf-方法&quot; class=&quot;headerlink&quot; title=&quot;1. 使用String.valueOf()方法&quot;&gt;&lt;/a&gt;1. 使用&lt;strong&gt;String.v
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java截取字符串的最后一个字符方法</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/java%E6%88%AA%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E6%96%B9%E6%B3%95/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/java截取字符串的最后一个字符方法/</id>
    <published>2020-05-08T03:44:42.541Z</published>
    <updated>2020-05-08T03:44:42.541Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-原生java方式-先判断是否为空"><a href="#1-原生java方式-先判断是否为空" class="headerlink" title="1. 原生java方式 先判断是否为空"></a>1. 原生java方式 先判断是否为空</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">removeLastChar</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>)</span><br><span class="line">      ? <span class="keyword">null</span></span><br><span class="line">      : (s.substring(<span class="number">0</span>, s.length() - <span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="2-使用java8"><a href="#2-使用java8" class="headerlink" title="2. 使用java8"></a>2. 使用java8</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">removeLastCharOptional</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Optional.ofNullable(s)</span><br><span class="line">      .filter(str -&gt; str.length() != <span class="number">0</span>)</span><br><span class="line">      .map(str -&gt; str.substring(<span class="number">0</span>, str.length() - <span class="number">1</span>))</span><br><span class="line">      .orElse(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="3-使用-apache-common-lang-StringUtils-substring"><a href="#3-使用-apache-common-lang-StringUtils-substring" class="headerlink" title="3. 使用 apache common lang StringUtils.substring()"></a>3. 使用<strong> apache common lang</strong> StringUtils.substring()</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String TEST_STRING = <span class="string">"ACBDEF"</span>;</span><br><span class="line">StringUtils.substring(TEST_STRING,<span class="number">0</span>,TEST_STRING.length()-<span class="number">1</span>);</span><br></pre></td></tr></table></figure><h1 id="4-使用-StringUtils-chop-方法-因对边缘场景的情况（empty-or-null）时"><a href="#4-使用-StringUtils-chop-方法-因对边缘场景的情况（empty-or-null）时" class="headerlink" title="4. 使用  StringUtils.chop()方法 因对边缘场景的情况（empty or null）时"></a>4. 使用 <strong> StringUtils.chop()</strong>方法 因对边缘场景的情况（empty or null）时</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">StringUtils.chop(TEST_STRING)</span><br></pre></td></tr></table></figure><h1 id="5-使用replaceAll-的正则表达式方式"><a href="#5-使用replaceAll-的正则表达式方式" class="headerlink" title="5. 使用replaceAll() 的正则表达式方式"></a>5. 使用replaceAll() 的正则表达式方式</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">removeLastCharRegex</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (s == <span class="keyword">null</span>) ? <span class="keyword">null</span> : s.replaceAll(<span class="string">".$"</span>, <span class="string">""</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// java8</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">removeLastCharRegexOptional</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Optional.ofNullable(s)</span><br><span class="line">      .map(str -&gt; str.replaceAll(<span class="string">".$"</span>, <span class="string">""</span>))</span><br><span class="line">      .orElse(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="总结：-以上主要使用substring方法截取字符串，复杂的话建议使用正则表达式方式处理。"><a href="#总结：-以上主要使用substring方法截取字符串，复杂的话建议使用正则表达式方式处理。" class="headerlink" title="总结： 以上主要使用substring方法截取字符串，复杂的话建议使用正则表达式方式处理。"></a>总结： 以上主要使用substring方法截取字符串，复杂的话建议使用正则表达式方式处理。</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;1-原生java方式-先判断是否为空&quot;&gt;&lt;a href=&quot;#1-原生java方式-先判断是否为空&quot; class=&quot;headerlink&quot; title=&quot;1. 原生java方式 先判断是否为空&quot;&gt;&lt;/a&gt;1. 原生java方式 先判断是否为空&lt;/h1&gt;&lt;figure
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java生成随机字符串的五种方式</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/java%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E4%BA%94%E7%A7%8D%E6%96%B9%E5%BC%8F/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/java生成随机字符串的五种方式/</id>
    <published>2020-05-08T03:44:42.541Z</published>
    <updated>2020-05-08T03:44:42.541Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-使用原生java生成无边界字符串"><a href="#1-使用原生java生成无边界字符串" class="headerlink" title="1. 使用原生java生成无边界字符串"></a>1. 使用原生java生成无边界字符串</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenUsingPlainJava_whenGeneratingRandomStringUnbounded_thenCorrect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">byte</span>[] array = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">7</span>]; <span class="comment">// length is bounded by 7</span></span><br><span class="line">    <span class="keyword">new</span> Random().nextBytes(array);</span><br><span class="line">    String generatedString = <span class="keyword">new</span> String(array, Charset.forName(<span class="string">"UTF-8"</span>));</span><br><span class="line"> </span><br><span class="line">    System.out.println(generatedString);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="2-使用原生java生成右边界字符串"><a href="#2-使用原生java生成右边界字符串" class="headerlink" title="2.使用原生java生成右边界字符串"></a>2.使用原生java生成右边界字符串</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenUsingPlainJava_whenGeneratingRandomStringBounded_thenCorrect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">int</span> leftLimit = <span class="number">97</span>; <span class="comment">// letter 'a'</span></span><br><span class="line">    <span class="keyword">int</span> rightLimit = <span class="number">122</span>; <span class="comment">// letter 'z'</span></span><br><span class="line">    <span class="keyword">int</span> targetStringLength = <span class="number">10</span>;</span><br><span class="line">    Random random = <span class="keyword">new</span> Random();</span><br><span class="line">    StringBuilder buffer = <span class="keyword">new</span> StringBuilder(targetStringLength);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; targetStringLength; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> randomLimitedInt = leftLimit + (<span class="keyword">int</span>) </span><br><span class="line">          (random.nextFloat() * (rightLimit - leftLimit + <span class="number">1</span>));</span><br><span class="line">        buffer.append((<span class="keyword">char</span>) randomLimitedInt);</span><br><span class="line">    &#125;</span><br><span class="line">    String generatedString = buffer.toString();</span><br><span class="line"> </span><br><span class="line">    System.out.println(generatedString);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="3-使用-apache-common-lang-生成有边界字符串-只用字母"><a href="#3-使用-apache-common-lang-生成有边界字符串-只用字母" class="headerlink" title="3.使用 apache common lang 生成有边界字符串(只用字母)"></a>3.使用 <strong>apache common lang</strong> 生成有边界字符串(只用字母)</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenUsingApache_whenGeneratingRandomStringBounded_thenCorrect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">int</span> length = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">boolean</span> useLetters = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">boolean</span> useNumbers = <span class="keyword">false</span>;</span><br><span class="line">    String generatedString = RandomStringUtils.random(length, useLetters, useNumbers);</span><br><span class="line"> </span><br><span class="line">    System.out.println(generatedString);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="4-使用-apache-common-lang-生成有边界字母"><a href="#4-使用-apache-common-lang-生成有边界字母" class="headerlink" title="4. 使用 apache common lang 生成有边界字母"></a>4. 使用 <strong>apache common lang</strong> 生成有边界字母</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenUsingApache_whenGeneratingRandomAlphabeticString_thenCorrect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String generatedString = RandomStringUtils.randomAlphabetic(<span class="number">10</span>);</span><br><span class="line"> </span><br><span class="line">    System.out.println(generatedString);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="5-使用-apache-common-lang-生成有边界字母和数字"><a href="#5-使用-apache-common-lang-生成有边界字母和数字" class="headerlink" title="5. 使用 apache common lang 生成有边界字母和数字"></a>5. 使用 <strong>apache common lang</strong> 生成有边界字母和数字</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenUsingApache_whenGeneratingRandomAlphanumericString_thenCorrect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String generatedString = RandomStringUtils.randomAlphanumeric(<span class="number">10</span>);</span><br><span class="line">    System.out.println(generatedString);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="总结-使用lang包的生成方式简单-自己原生方式也可以实现"><a href="#总结-使用lang包的生成方式简单-自己原生方式也可以实现" class="headerlink" title="总结: 使用lang包的生成方式简单,自己原生方式也可以实现."></a>总结: 使用lang包的生成方式简单,自己原生方式也可以实现.</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;1-使用原生java生成无边界字符串&quot;&gt;&lt;a href=&quot;#1-使用原生java生成无边界字符串&quot; class=&quot;headerlink&quot; title=&quot;1. 使用原生java生成无边界字符串&quot;&gt;&lt;/a&gt;1. 使用原生java生成无边界字符串&lt;/h1&gt;&lt;figure
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java的字符串转枚举类型</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/java%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/java的字符串转枚举类型/</id>
    <published>2020-05-08T03:44:42.541Z</published>
    <updated>2020-05-08T03:44:42.541Z</updated>
    
    <content type="html"><![CDATA[<h3 id="假定一个美酒类型"><a href="#假定一个美酒类型" class="headerlink" title="假定一个美酒类型"></a>假定一个美酒类型</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">PizzaStatusEnum readyStatus = PizzaStatusEnum.READY;</span><br></pre></td></tr></table></figure><h1 id="使用-valueOf-“”-方法"><a href="#使用-valueOf-“”-方法" class="headerlink" title="使用 valueOf(“”)方法"></a>使用 <strong>valueOf(“”)</strong>方法</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenConvertedIntoEnum_thenGetsConvertedCorrectly</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">    String pizzaEnumValue = <span class="string">"READY"</span>;</span><br><span class="line">    PizzaStatusEnum pizzaStatusEnum</span><br><span class="line">      = PizzaStatusEnum.valueOf(pizzaEnumValue);</span><br><span class="line">    assertTrue(pizzaStatusEnum == PizzaStatusEnum.READY);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="注意-如果参数不对-会抛出非法参数异常"><a href="#注意-如果参数不对-会抛出非法参数异常" class="headerlink" title="注意: 如果参数不对,会抛出非法参数异常"></a>注意: 如果参数不对,会抛出非法参数异常</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span>(expected = IllegalArgumentException.class)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenConvertedIntoEnum_thenThrowsException</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String pizzaEnumValue = <span class="string">"invalid"</span>;</span><br><span class="line">    PizzaStatusEnum pizzaStatusEnum = PizzaStatusEnum.valueOf(pizzaEnumValue);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;假定一个美酒类型&quot;&gt;&lt;a href=&quot;#假定一个美酒类型&quot; class=&quot;headerlink&quot; title=&quot;假定一个美酒类型&quot;&gt;&lt;/a&gt;假定一个美酒类型&lt;/h3&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td cla
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java统计字符串中字符出现的次数</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/java%E7%BB%9F%E8%AE%A1%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E5%AD%97%E7%AC%A6%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/java统计字符串中字符出现的次数/</id>
    <published>2020-05-08T03:44:42.541Z</published>
    <updated>2020-05-08T03:44:42.541Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-使用java原生方式for循环"><a href="#1-使用java原生方式for循环" class="headerlink" title="1. 使用java原生方式for循环"></a>1. 使用java原生方式for循环</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String someString = <span class="string">"elephant"</span>;</span><br><span class="line"><span class="keyword">char</span> someChar = <span class="string">'e'</span>;</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; someString.length(); i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (someString.charAt(i) == someChar) &#123;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">assertEquals(<span class="number">2</span>, count);</span><br></pre></td></tr></table></figure><h1 id="2-使用java原生递归调用"><a href="#2-使用java原生递归调用" class="headerlink" title="2. 使用java原生递归调用"></a>2. 使用java原生递归调用</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">countOccurences</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">  String someString, <span class="keyword">char</span> searchedChar, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index &gt;= someString.length()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">int</span> count = someString.charAt(index) == searchedChar ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> count + countOccurences(</span><br><span class="line">      someString, searchedChar, index + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="3-使用正则表达式"><a href="#3-使用正则表达式" class="headerlink" title="3. 使用正则表达式"></a>3. 使用正则表达式</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Pattern pattern = Pattern.compile(<span class="string">"[^e]*e"</span>);</span><br><span class="line">Matcher matcher = pattern.matcher(<span class="string">"elephant"</span>);</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (matcher.find()) &#123;</span><br><span class="line">    count++;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line">assertEquals(<span class="number">2</span>, count);</span><br></pre></td></tr></table></figure><h1 id="4-使用java8"><a href="#4-使用java8" class="headerlink" title="4.使用java8"></a>4.使用java8</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String someString = <span class="string">"elephant"</span>;</span><br><span class="line"><span class="keyword">long</span> count = someString.chars().filter(ch -&gt; ch == <span class="string">'e'</span>).count();</span><br><span class="line">assertEquals(<span class="number">2</span>, count);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">long</span> count2 = someString.codePoints().filter(ch -&gt; ch == <span class="string">'e'</span>).count();</span><br><span class="line">assertEquals(<span class="number">2</span>, count2);</span><br></pre></td></tr></table></figure><hr><h2 id="使用外部jar包"><a href="#使用外部jar包" class="headerlink" title="使用外部jar包"></a>使用外部jar包</h2><h1 id="5-使用lang包"><a href="#5-使用lang包" class="headerlink" title="5. 使用lang包"></a>5. 使用lang包</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> count = StringUtils.countMatches(<span class="string">"elephant"</span>, <span class="string">"e"</span>);</span><br><span class="line">assertEquals(<span class="number">2</span>, count);</span><br></pre></td></tr></table></figure><h1 id="6-使用guava"><a href="#6-使用guava" class="headerlink" title="6. 使用guava"></a>6. 使用guava</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> count = CharMatcher.is(<span class="string">'e'</span>).countIn(<span class="string">"elephant"</span>);</span><br><span class="line">assertEquals(<span class="number">2</span>, count);</span><br></pre></td></tr></table></figure><h1 id="7-使用spring-utils"><a href="#7-使用spring-utils" class="headerlink" title="7.使用spring utils"></a>7.使用spring utils</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> count = StringUtils.countOccurrencesOf(<span class="string">"elephant"</span>, <span class="string">"e"</span>);</span><br><span class="line">assertEquals(<span class="number">2</span>, count);</span><br></pre></td></tr></table></figure><p>总结: 原生方式简单粗暴,也可以使用其他工具类,但使用java8感觉最优雅.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;1-使用java原生方式for循环&quot;&gt;&lt;a href=&quot;#1-使用java原生方式for循环&quot; class=&quot;headerlink&quot; title=&quot;1. 使用java原生方式for循环&quot;&gt;&lt;/a&gt;1. 使用java原生方式for循环&lt;/h1&gt;&lt;figure cla
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java中字符串转字节流</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/java%E4%B8%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E5%AD%97%E8%8A%82%E6%B5%81/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/java中字符串转字节流/</id>
    <published>2020-05-08T03:44:42.540Z</published>
    <updated>2020-05-08T03:44:42.540Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-使用chars-方法-返回IntStream"><a href="#1-使用chars-方法-返回IntStream" class="headerlink" title="1. 使用chars()方法 返回IntStream"></a>1. 使用<strong>chars()</strong>方法 返回IntStream</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String testString = <span class="string">"String"</span>;</span><br><span class="line">IntStream intStream = testString.chars();  <span class="comment">// 获取 数字流 ,所以我们需要转换</span></span><br><span class="line"></span><br><span class="line">Stream&lt;Character&gt; characterStream = testString.chars()</span><br><span class="line">                        .mapToObj(c -&gt; (<span class="keyword">char</span>) c);  <span class="comment">// 使用mapToObj强转</span></span><br></pre></td></tr></table></figure><h1 id="2-使用codePoint-方法-得到点码-再强转"><a href="#2-使用codePoint-方法-得到点码-再强转" class="headerlink" title="2. 使用codePoint()方法 得到点码,再强转."></a>2. 使用<strong>codePoint()</strong>方法 得到点码,再强转.</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Stream&lt;Character&gt; characterStream2  = testString.codePoints()</span><br><span class="line">                                .mapToObj(c -&gt; (<span class="keyword">char</span>) c);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 也可以转换成单个字符串流</span></span><br><span class="line">Stream&lt;String&gt; stringStream = testString.codePoints()</span><br><span class="line">                    .mapToObj(c -&gt; String.valueOf((<span class="keyword">char</span>) c));</span><br></pre></td></tr></table></figure><p>总结: 通过字符串转换整型流,也可以转换字节流,还可以转换单个字符串流.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;1-使用chars-方法-返回IntStream&quot;&gt;&lt;a href=&quot;#1-使用chars-方法-返回IntStream&quot; class=&quot;headerlink&quot; title=&quot;1. 使用chars()方法 返回IntStream&quot;&gt;&lt;/a&gt;1. 使用&lt;strong
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java中实用apache Text字符串处理</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/java%E4%B8%AD%E5%AE%9E%E7%94%A8apache%20Text%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/java中实用apache Text字符串处理/</id>
    <published>2020-05-08T03:44:42.540Z</published>
    <updated>2020-05-08T03:44:42.540Z</updated>
    
    <content type="html"><![CDATA[<h2 id="首字母大写"><a href="#首字母大写" class="headerlink" title="首字母大写"></a>首字母大写</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenCapitalized_thenCorrect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String toBeCapitalized = <span class="string">"to be capitalized!"</span>;</span><br><span class="line">    String result = WordUtils.capitalize(toBeCapitalized);</span><br><span class="line">     </span><br><span class="line">    assertEquals(<span class="string">"To Be Capitalized!"</span>, result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="判断字符串中存在的字符"><a href="#判断字符串中存在的字符" class="headerlink" title="判断字符串中存在的字符"></a>判断字符串中存在的字符</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenContainsWords_thenCorrect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span> containsWords = WordUtils</span><br><span class="line">      .containsAllWords(<span class="string">"String to search"</span>, <span class="string">"to"</span>, <span class="string">"search"</span>);</span><br><span class="line">     </span><br><span class="line">    assertTrue(containsWords);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="使用StrSubstitutor建立字符串模板"><a href="#使用StrSubstitutor建立字符串模板" class="headerlink" title="使用StrSubstitutor建立字符串模板"></a>使用<strong>StrSubstitutor</strong>建立字符串模板</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenSubstituted_thenCorrect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Map&lt;String, String&gt; substitutes = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    substitutes.put(<span class="string">"name"</span>, <span class="string">"John"</span>);</span><br><span class="line">    substitutes.put(<span class="string">"college"</span>, <span class="string">"University of Stanford"</span>);</span><br><span class="line">    String templateString = <span class="string">"My name is $&#123;name&#125; and I am a student at the $&#123;college&#125;."</span>;</span><br><span class="line">    StrSubstitutor sub = <span class="keyword">new</span> StrSubstitutor(substitutes);</span><br><span class="line">    String result = sub.replace(templateString);</span><br><span class="line">     </span><br><span class="line">    assertEquals(<span class="string">"My name is John and I am a student at the University of Stanford."</span>, result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="使用StrBuilder替代原生StirngBuilder-方便替换字串串内容"><a href="#使用StrBuilder替代原生StirngBuilder-方便替换字串串内容" class="headerlink" title="使用StrBuilder替代原生StirngBuilder 方便替换字串串内容"></a>使用<strong>StrBuilder</strong>替代原生<strong>StirngBuilder</strong> 方便替换字串串内容</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenReplaced_thenCorrect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    StrBuilder strBuilder = <span class="keyword">new</span> StrBuilder(<span class="string">"example StrBuilder!"</span>);</span><br><span class="line">    strBuilder.replaceAll(<span class="string">"example"</span>, <span class="string">"new"</span>);</span><br><span class="line">    </span><br><span class="line">    assertEquals(<span class="keyword">new</span> StrBuilder(<span class="string">"new StrBuilder!"</span>), strBuilder);</span><br><span class="line">    <span class="comment">//清理StrBuilder</span></span><br><span class="line">    strBuilder.clear()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="比较字符串不同次数"><a href="#比较字符串不同次数" class="headerlink" title="比较字符串不同次数"></a>比较字符串不同次数</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenEditScript_thenCorrect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    StringsComparator cmp = <span class="keyword">new</span> StringsComparator(<span class="string">"ABCFGH"</span>, <span class="string">"BCDEFG"</span>);</span><br><span class="line">    EditScript&lt;Character&gt; script = cmp.getScript();</span><br><span class="line">    <span class="keyword">int</span> mod = script.getModifications();</span><br><span class="line">     </span><br><span class="line">    assertEquals(<span class="number">4</span>, mod);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="使用text-similarily方便比较字符串的不同程度"><a href="#使用text-similarily方便比较字符串的不同程度" class="headerlink" title="使用text.similarily方便比较字符串的不同程度"></a>使用<strong>text.similarily</strong>方便比较字符串的不同程度</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 得到相同数量</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenCompare_thenCorrect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    LongestCommonSubsequence lcs = <span class="keyword">new</span> LongestCommonSubsequence();</span><br><span class="line">    <span class="keyword">int</span> countLcs = lcs.apply(<span class="string">"New York"</span>, <span class="string">"New Hampshire"</span>);</span><br><span class="line">     </span><br><span class="line">    assertEquals(<span class="number">5</span>, countLcs);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 得到不同数量</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenCalculateDistance_thenCorrect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    LongestCommonSubsequenceDistance lcsd = <span class="keyword">new</span> LongestCommonSubsequenceDistance();</span><br><span class="line">    <span class="keyword">int</span> countLcsd = lcsd.apply(<span class="string">"New York"</span>, <span class="string">"New Hampshire"</span>);</span><br><span class="line">     </span><br><span class="line">    assertEquals(<span class="number">11</span>, countLcsd);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="自定义传唤字符串"><a href="#自定义传唤字符串" class="headerlink" title="自定义传唤字符串"></a>自定义传唤字符串</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenTranslate_thenCorrect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    UnicodeEscaper ue = UnicodeEscaper.above(<span class="number">0</span>);</span><br><span class="line">    String result = ue.translate(<span class="string">"ABCD"</span>);</span><br><span class="line">     </span><br><span class="line">    assertEquals(<span class="string">"\\u0041\\u0042\\u0043\\u0044"</span>, result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;首字母大写&quot;&gt;&lt;a href=&quot;#首字母大写&quot; class=&quot;headerlink&quot; title=&quot;首字母大写&quot;&gt;&lt;/a&gt;首字母大写&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;p
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java中将异常栈跟踪信息转字符串</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/java%E4%B8%AD%E5%B0%86%E5%BC%82%E5%B8%B8%E6%A0%88%E8%B7%9F%E8%B8%AA%E4%BF%A1%E6%81%AF%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/java中将异常栈跟踪信息转字符串/</id>
    <published>2020-05-08T03:44:42.540Z</published>
    <updated>2020-05-08T03:44:42.540Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-使用原生java代码"><a href="#1-使用原生java代码" class="headerlink" title="1. 使用原生java代码"></a>1. 使用原生java代码</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">StringWriter sw = <span class="keyword">new</span> StringWriter();</span><br><span class="line">PrintWriter pw = <span class="keyword">new</span> PrintWriter(sw);</span><br><span class="line">e.printStackTrace(pw);</span><br></pre></td></tr></table></figure><h1 id="2-使用Common-lang工具在类"><a href="#2-使用Common-lang工具在类" class="headerlink" title="2. 使用Common lang工具在类"></a>2. 使用<strong>Common lang</strong>工具在类</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String stacktrace = ExceptionUtils.getStacktrace(e);</span><br></pre></td></tr></table></figure><p>总结 获取跟踪栈异常默认不能用String,在java9中添加了<strong>StackWalking API</strong>支持栈异常跟踪</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;1-使用原生java代码&quot;&gt;&lt;a href=&quot;#1-使用原生java代码&quot; class=&quot;headerlink&quot; title=&quot;1. 使用原生java代码&quot;&gt;&lt;/a&gt;1. 使用原生java代码&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java中将列表转换成字符串</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/java%E4%B8%AD%E5%B0%86%E5%88%97%E8%A1%A8%E8%BD%AC%E6%8D%A2%E6%88%90%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/java中将列表转换成字符串/</id>
    <published>2020-05-08T03:44:42.540Z</published>
    <updated>2020-05-08T03:44:42.540Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-直接打印"><a href="#1-直接打印" class="headerlink" title="1. 直接打印"></a>1. 直接打印</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenListToString_thenPrintDefault</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; intLIst = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">  </span><br><span class="line">    System.out.println(intLIst);  <span class="comment">//这个方式,对简单类型对象适用</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-实用stream方式转换"><a href="#2-实用stream方式转换" class="headerlink" title="2. 实用stream方式转换"></a>2. 实用<strong>stream</strong>方式转换</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenCollectorsJoining_thenPrintCustom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; intList = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">    String result = intList.stream()</span><br><span class="line">      .map(n -&gt; String.valueOf(n))</span><br><span class="line">      .collect(Collectors.joining(<span class="string">"-"</span>, <span class="string">"&#123;"</span>, <span class="string">"&#125;"</span>));</span><br><span class="line">  </span><br><span class="line">    System.out.println(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-实用Common-lang-工具"><a href="#3-实用Common-lang-工具" class="headerlink" title="3. 实用Common lang 工具"></a>3. 实用<strong>Common lang</strong> 工具</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenStringUtilsJoin_thenPrintCustom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; intList = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">  </span><br><span class="line">    System.out.println(StringUtils.join(intList, <span class="string">"|"</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>总结: 简单的类型可以直接打印,但是复杂自定义对象建议使用流方式打印.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;1-直接打印&quot;&gt;&lt;a href=&quot;#1-直接打印&quot; class=&quot;headerlink&quot; title=&quot;1. 直接打印&quot;&gt;&lt;/a&gt;1. 直接打印&lt;/h3&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;co
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java使用Guava **CharMatcher** 进行字符串处理</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/java%E4%BD%BF%E7%94%A8Guava%E8%BF%9B%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/java使用Guava进行字符串处理/</id>
    <published>2020-05-08T03:44:42.540Z</published>
    <updated>2020-05-08T03:44:42.540Z</updated>
    
    <content type="html"><![CDATA[<h1 id="java使用Guava进行字符串处理"><a href="#java使用Guava进行字符串处理" class="headerlink" title="java使用Guava进行字符串处理"></a>java使用Guava进行字符串处理</h1><h2 id="从字符串中删除特定的字符"><a href="#从字符串中删除特定的字符" class="headerlink" title="从字符串中删除特定的字符"></a>从字符串中删除特定的字符</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenRemoveSpecialCharacters_thenRemoved</span><span class="params">()</span></span>&#123;</span><br><span class="line">    String input = <span class="string">"H*el.lo,&#125;12"</span>;</span><br><span class="line">    CharMatcher matcher = CharMatcher.JAVA_LETTER_OR_DIGIT;</span><br><span class="line">    String result = matcher.retainFrom(input);</span><br><span class="line"> </span><br><span class="line">    assertEquals(<span class="string">"Hello12"</span>, result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="从字符串中删除不是字符串"><a href="#从字符串中删除不是字符串" class="headerlink" title="从字符串中删除不是字符串"></a>从字符串中删除不是字符串</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenRemoveNonASCIIChars_thenRemoved</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String input = <span class="string">"あhello₤"</span>;</span><br><span class="line"> </span><br><span class="line">    String result = CharMatcher.ASCII.retainFrom(input);</span><br><span class="line">    assertEquals(<span class="string">"hello"</span>, result);</span><br><span class="line"> </span><br><span class="line">    result = CharMatcher.inRange(<span class="string">'0'</span>, <span class="string">'z'</span>).retainFrom(input);</span><br><span class="line">    assertEquals(<span class="string">"hello"</span>, result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="删除不在字符集中的字符"><a href="#删除不在字符集中的字符" class="headerlink" title="删除不在字符集中的字符"></a>删除不在字符集中的字符</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenRemoveCharsNotInCharset_thenRemoved</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Charset charset = Charset.forName(<span class="string">"cp437"</span>);</span><br><span class="line">    CharsetEncoder encoder = charset.newEncoder();</span><br><span class="line"> </span><br><span class="line">    Predicate&lt;Character&gt; inRange = <span class="keyword">new</span> Predicate&lt;Character&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">apply</span><span class="params">(Character c)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> encoder.canEncode(c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"> </span><br><span class="line">    String result = CharMatcher.forPredicate(inRange)</span><br><span class="line">                               .retainFrom(<span class="string">"helloは"</span>);</span><br><span class="line">    assertEquals(<span class="string">"hello"</span>, result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="验证字符串"><a href="#验证字符串" class="headerlink" title="验证字符串"></a>验证字符串</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenValidateString_thenValid</span><span class="params">()</span></span>&#123;</span><br><span class="line">    String input = <span class="string">"hello"</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">boolean</span> result = CharMatcher.JAVA_LOWER_CASE.matchesAllOf(input);</span><br><span class="line">    assertTrue(result);</span><br><span class="line"> </span><br><span class="line">    result = CharMatcher.is(<span class="string">'e'</span>).matchesAnyOf(input);</span><br><span class="line">    assertTrue(result);</span><br><span class="line"> </span><br><span class="line">    result = CharMatcher.JAVA_DIGIT.matchesNoneOf(input);</span><br><span class="line">    assertTrue(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="去除字符串空格"><a href="#去除字符串空格" class="headerlink" title="去除字符串空格"></a>去除字符串空格</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenTrimString_thenTrimmed</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String input = <span class="string">"---hello,,,"</span>;</span><br><span class="line"> </span><br><span class="line">    String result = CharMatcher.is(<span class="string">'-'</span>).trimLeadingFrom(input);</span><br><span class="line">    assertEquals(<span class="string">"hello,,,"</span>, result);</span><br><span class="line"> </span><br><span class="line">    result = CharMatcher.is(<span class="string">','</span>).trimTrailingFrom(input);</span><br><span class="line">    assertEquals(<span class="string">"---hello"</span>, result);</span><br><span class="line"> </span><br><span class="line">    result = CharMatcher.anyOf(<span class="string">"-,"</span>).trimFrom(input);</span><br><span class="line">    assertEquals(<span class="string">"hello"</span>, result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="折叠字符串"><a href="#折叠字符串" class="headerlink" title="折叠字符串"></a>折叠字符串</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenCollapseFromString_thenCollapsed</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String input = <span class="string">"       hel    lo      "</span>;</span><br><span class="line"> </span><br><span class="line">    String result = CharMatcher.is(<span class="string">' '</span>).collapseFrom(input, <span class="string">'-'</span>);</span><br><span class="line">    assertEquals(<span class="string">"-hel-lo-"</span>, result);</span><br><span class="line"> </span><br><span class="line">    result = CharMatcher.is(<span class="string">' '</span>).trimAndCollapseFrom(input, <span class="string">'-'</span>);</span><br><span class="line">    assertEquals(<span class="string">"hel-lo"</span>, result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="替换字符串"><a href="#替换字符串" class="headerlink" title="替换字符串"></a>替换字符串</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenReplaceFromString_thenReplaced</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String input = <span class="string">"apple-banana."</span>;</span><br><span class="line"> </span><br><span class="line">    String result = CharMatcher.anyOf(<span class="string">"-."</span>).replaceFrom(input, <span class="string">'!'</span>);</span><br><span class="line">    assertEquals(<span class="string">"apple!banana!"</span>, result);</span><br><span class="line"> </span><br><span class="line">    result = CharMatcher.is(<span class="string">'-'</span>).replaceFrom(input, <span class="string">" and "</span>);</span><br><span class="line">    assertEquals(<span class="string">"apple and banana."</span>, result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="统计字串串出现的次数"><a href="#统计字串串出现的次数" class="headerlink" title="统计字串串出现的次数"></a>统计字串串出现的次数</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenCountCharInString_thenCorrect</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String input = <span class="string">"a, c, z, 1, 2"</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">int</span> result = CharMatcher.is(<span class="string">','</span>).countIn(input);</span><br><span class="line">    assertEquals(<span class="number">4</span>, result);</span><br><span class="line"> </span><br><span class="line">    result = CharMatcher.inRange(<span class="string">'a'</span>, <span class="string">'h'</span>).countIn(input);</span><br><span class="line">    assertEquals(<span class="number">2</span>, result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>总结: 使用<strong>CharMatcher</strong>处理字符串,简单方便.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;java使用Guava进行字符串处理&quot;&gt;&lt;a href=&quot;#java使用Guava进行字符串处理&quot; class=&quot;headerlink&quot; title=&quot;java使用Guava进行字符串处理&quot;&gt;&lt;/a&gt;java使用Guava进行字符串处理&lt;/h1&gt;&lt;h2 id=&quot;从
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java使用apache common工具类</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/java%E4%BD%BF%E7%94%A8apache%20common%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/java使用apache common工具类/</id>
    <published>2020-05-08T03:44:42.540Z</published>
    <updated>2020-05-08T03:44:42.541Z</updated>
    
    <content type="html"><![CDATA[<h1 id="查询字符串中出现任意字符"><a href="#查询字符串中出现任意字符" class="headerlink" title="查询字符串中出现任意字符"></a>查询字符串中出现任意字符</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String string = <span class="string">"baeldung.com"</span>;</span><br><span class="line"><span class="keyword">boolean</span> contained1 = StringUtils.containsAny(string, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>);</span><br><span class="line"><span class="keyword">boolean</span> contained2 = StringUtils.containsAny(string, <span class="string">'x'</span>, <span class="string">'y'</span>, <span class="string">'z'</span>);</span><br><span class="line"><span class="keyword">boolean</span> contained3 = StringUtils.containsAny(string, <span class="string">"abc"</span>);</span><br><span class="line"><span class="keyword">boolean</span> contained4 = StringUtils.containsAny(string, <span class="string">"xyz"</span>);</span><br><span class="line">  </span><br><span class="line">assertTrue(contained1);</span><br><span class="line">assertFalse(contained2);</span><br><span class="line">assertTrue(contained3);</span><br><span class="line">assertFalse(contained4);</span><br><span class="line"><span class="comment">// 忽略大小写</span></span><br><span class="line">String string = <span class="string">"matosiki.com"</span>;</span><br><span class="line"><span class="keyword">boolean</span> contained = StringUtils.containsIgnoreCase(string, <span class="string">"MATOSIKI"</span>);</span><br><span class="line">  </span><br><span class="line">assertTrue(contained);</span><br></pre></td></tr></table></figure><h1 id="匹配出现次数方法"><a href="#匹配出现次数方法" class="headerlink" title="匹配出现次数方法"></a>匹配出现次数方法</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String string = <span class="string">"welcome to www.matosiki.com"</span>;</span><br><span class="line"><span class="keyword">int</span> charNum = StringUtils.countMatches(string, <span class="string">'w'</span>);</span><br><span class="line"><span class="keyword">int</span> stringNum = StringUtils.countMatches(string, <span class="string">"com"</span>);</span><br><span class="line">  </span><br><span class="line">assertEquals(<span class="number">4</span>, charNum);</span><br><span class="line">assertEquals(<span class="number">2</span>, stringNum);</span><br></pre></td></tr></table></figure><h1 id="匹配前缀和后缀的方法"><a href="#匹配前缀和后缀的方法" class="headerlink" title="匹配前缀和后缀的方法"></a>匹配前缀和后缀的方法</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String string = <span class="string">"matosiki.com"</span>;</span><br><span class="line">String stringWithSuffix = StringUtils.appendIfMissing(string, <span class="string">".com"</span>);</span><br><span class="line">String stringWithPrefix = StringUtils.prependIfMissing(string, <span class="string">"www."</span>);</span><br><span class="line">  </span><br><span class="line">assertEquals(<span class="string">"matosiki.com"</span>, stringWithSuffix);</span><br><span class="line">assertEquals(<span class="string">"www.matosiki.com"</span>, stringWithPrefix);</span><br></pre></td></tr></table></figure><h1 id="改变大小写"><a href="#改变大小写" class="headerlink" title="改变大小写"></a>改变大小写</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String originalString = <span class="string">"matosiki.COM"</span>;</span><br><span class="line">String swappedString = StringUtils.swapCase(originalString);</span><br><span class="line">  </span><br><span class="line">assertEquals(<span class="string">"MATOSIKI.com"</span>, swappedString);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 首字母大写</span></span><br><span class="line">String capitalizedString = StringUtils.capitalize(originalString);</span><br><span class="line">  </span><br><span class="line">assertEquals(<span class="string">"Matosiki.COM"</span>, capitalizedString);</span><br><span class="line"><span class="comment">//首字母不大写</span></span><br><span class="line">String uncapitalizedString = StringUtils.uncapitalize(originalString);</span><br><span class="line">  </span><br><span class="line">assertEquals(<span class="string">"matosiki.COM"</span>, uncapitalizedString);</span><br></pre></td></tr></table></figure><h1 id="翻转字符串"><a href="#翻转字符串" class="headerlink" title="翻转字符串"></a>翻转字符串</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String originalString = <span class="string">"matosiki"</span>;</span><br><span class="line">String reversedString = StringUtils.reverse(originalString);</span><br><span class="line">  </span><br><span class="line">assertEquals(<span class="string">"ikisotam"</span>, reversedString);</span><br><span class="line"><span class="comment">// 分割式翻转</span></span><br><span class="line">String originalString = <span class="string">"www.matosiki.com"</span>;</span><br><span class="line">String reversedString = StringUtils.reverseDelimited(originalString, <span class="string">'.'</span>);</span><br><span class="line">  </span><br><span class="line">assertEquals(<span class="string">"com.matosiki.www"</span>, reversedString);</span><br></pre></td></tr></table></figure><h1 id="使用rotate-方法旋转"><a href="#使用rotate-方法旋转" class="headerlink" title="使用rotate()方法旋转"></a>使用<strong>rotate()</strong>方法旋转</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String originalString = <span class="string">"matosiki"</span>;</span><br><span class="line">String rotatedString = StringUtils.rotate(originalString, <span class="number">4</span>);</span><br><span class="line">  </span><br><span class="line">assertEquals(<span class="string">"sikimatos"</span>, rotatedString);</span><br></pre></td></tr></table></figure><h1 id="比较不同"><a href="#比较不同" class="headerlink" title="比较不同"></a>比较不同</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String tutorials = <span class="string">"Baeldung Tutorials"</span>;</span><br><span class="line">String courses = <span class="string">"Baeldung Courses"</span>;</span><br><span class="line">String diff1 = StringUtils.difference(tutorials, courses);</span><br><span class="line">String diff2 = StringUtils.difference(courses, tutorials);</span><br><span class="line">  </span><br><span class="line">assertEquals(<span class="string">"Courses"</span>, diff1);</span><br><span class="line">assertEquals(<span class="string">"Tutorials"</span>, diff2);</span><br></pre></td></tr></table></figure><p>总结: 使用StringUtils对字符串进行一些常用操作</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;查询字符串中出现任意字符&quot;&gt;&lt;a href=&quot;#查询字符串中出现任意字符&quot; class=&quot;headerlink&quot; title=&quot;查询字符串中出现任意字符&quot;&gt;&lt;/a&gt;查询字符串中出现任意字符&lt;/h1&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;t
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java8新增StringJoiner用法</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/java8%E6%96%B0%E5%A2%9EStringJoiner%E7%94%A8%E6%B3%95/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/java8新增StringJoiner用法/</id>
    <published>2020-05-08T03:44:42.539Z</published>
    <updated>2020-05-08T03:44:42.539Z</updated>
    
    <content type="html"><![CDATA[<h1 id="使用java8的StringJoiner连接-附带分割和前缀和后缀"><a href="#使用java8的StringJoiner连接-附带分割和前缀和后缀" class="headerlink" title="使用java8的StringJoiner连接,附带分割和前缀和后缀"></a>使用java8的StringJoiner连接,附带分割和前缀和后缀</h1><h1 id="1-添加元素"><a href="#1-添加元素" class="headerlink" title="1. 添加元素"></a>1. 添加元素</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenAddingElements_thenJoinedElements</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    StringJoiner joiner = <span class="keyword">new</span> StringJoiner(<span class="string">","</span>, PREFIX, SUFFIX);</span><br><span class="line">    joiner.add(<span class="string">"Red"</span>)</span><br><span class="line">      .add(<span class="string">"Green"</span>)</span><br><span class="line">      .add(<span class="string">"Blue"</span>);</span><br><span class="line"> </span><br><span class="line">    assertEquals(joiner.toString(), <span class="string">"[Red,Green,Blue]"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="2-使用for循环添加内容"><a href="#2-使用for循环添加内容" class="headerlink" title="2. 使用for循环添加内容"></a>2. 使用for循环添加内容</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenAddingListElements_thenJoinedListElements</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; rgbList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    rgbList.add(<span class="string">"Red"</span>);</span><br><span class="line">    rgbList.add(<span class="string">"Green"</span>);</span><br><span class="line">    rgbList.add(<span class="string">"Blue"</span>);</span><br><span class="line"> </span><br><span class="line">    StringJoiner rgbJoiner = <span class="keyword">new</span> StringJoiner(</span><br><span class="line">      <span class="string">","</span>, PREFIX, SUFFIX);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (String color : rgbList) &#123;</span><br><span class="line">        rgbJoiner.add(color);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    assertEquals(rgbJoiner.toString(), <span class="string">"[Red,Green,Blue]"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="使用构造方式"><a href="#使用构造方式" class="headerlink" title="使用构造方式"></a>使用构造方式</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> String PREFIX = <span class="string">"["</span>;</span><br><span class="line"><span class="keyword">private</span> String SUFFIX = <span class="string">"]"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenEmptyJoinerWithoutPrefixSuffix_thenEmptyString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    StringJoiner joiner = <span class="keyword">new</span> StringJoiner(<span class="string">","</span>);</span><br><span class="line">  </span><br><span class="line">    assertEquals(<span class="number">0</span>, joiner.toString().length());</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenEmptyJoinerJoinerWithPrefixSuffix_thenPrefixSuffix</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    StringJoiner joiner = <span class="keyword">new</span> StringJoiner(</span><br><span class="line">      <span class="string">","</span>, PREFIX, SUFFIX);</span><br><span class="line">  </span><br><span class="line">    assertEquals(joiner.toString(), PREFIX + SUFFIX);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="合并Joiner"><a href="#合并Joiner" class="headerlink" title="合并Joiner"></a>合并Joiner</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenMergingJoiners_thenReturnMerged</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    StringJoiner rgbJoiner = <span class="keyword">new</span> StringJoiner(</span><br><span class="line">      <span class="string">","</span>, PREFIX, SUFFIX);</span><br><span class="line">    StringJoiner cmybJoiner = <span class="keyword">new</span> StringJoiner(</span><br><span class="line">      <span class="string">"-"</span>, PREFIX, SUFFIX);</span><br><span class="line"> </span><br><span class="line">    rgbJoiner.add(<span class="string">"Red"</span>)</span><br><span class="line">      .add(<span class="string">"Green"</span>)</span><br><span class="line">      .add(<span class="string">"Blue"</span>);</span><br><span class="line">    cmybJoiner.add(<span class="string">"Cyan"</span>)</span><br><span class="line">      .add(<span class="string">"Magenta"</span>)</span><br><span class="line">      .add(<span class="string">"Yellow"</span>)</span><br><span class="line">      .add(<span class="string">"Black"</span>);</span><br><span class="line"> </span><br><span class="line">    rgbJoiner.merge(cmybJoiner);</span><br><span class="line"> </span><br><span class="line">    assertEquals(</span><br><span class="line">      rgbJoiner.toString(), </span><br><span class="line">      <span class="string">"[Red,Green,Blue,Cyan-Magenta-Yellow-Black]"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="使用流"><a href="#使用流" class="headerlink" title="使用流"></a>使用流</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whenUsedWithinCollectors_thenJoined</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; rgbList = Arrays.asList(<span class="string">"Red"</span>, <span class="string">"Green"</span>, <span class="string">"Blue"</span>);</span><br><span class="line">    String commaSeparatedRGB = rgbList.stream()</span><br><span class="line">      .map(color -&gt; color.toString())</span><br><span class="line">      .collect(Collectors.joining(<span class="string">","</span>));</span><br><span class="line"> </span><br><span class="line">    assertEquals(commaSeparatedRGB, <span class="string">"Red,Green,Blue"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="总结-构造一个简单分割的字符串-使用StringJoiner方式很不错-也可以使用流的方式"><a href="#总结-构造一个简单分割的字符串-使用StringJoiner方式很不错-也可以使用流的方式" class="headerlink" title="总结: 构造一个简单分割的字符串,使用StringJoiner方式很不错,也可以使用流的方式."></a>总结: 构造一个简单分割的字符串,使用<strong>StringJoiner</strong>方式很不错,也可以使用流的方式.</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;使用java8的StringJoiner连接-附带分割和前缀和后缀&quot;&gt;&lt;a href=&quot;#使用java8的StringJoiner连接-附带分割和前缀和后缀&quot; class=&quot;headerlink&quot; title=&quot;使用java8的StringJoiner连接,附带分
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java中String类型转Integer或int类型</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/java%E4%B8%ADString%E7%B1%BB%E5%9E%8B%E8%BD%ACInteger%E6%88%96int%E7%B1%BB%E5%9E%8B/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/java中String类型转Integer或int类型/</id>
    <published>2020-05-08T03:44:42.539Z</published>
    <updated>2020-05-08T03:44:42.539Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-使用-Integer-parseInt"><a href="#1-使用-Integer-parseInt" class="headerlink" title="1. 使用 Integer.parseInt() "></a>1. 使用<strong> Integer.parseInt() </strong></h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenString_whenParsingInt_shouldConvertToInt</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String givenString = <span class="string">"42"</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">int</span> result = Integer.parseInt(givenString);</span><br><span class="line"> </span><br><span class="line">    assertThat(result).isEqualTo(<span class="number">42</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="2-使用-Integer-valueOf-不建议使用-内部使用缓存机制"><a href="#2-使用-Integer-valueOf-不建议使用-内部使用缓存机制" class="headerlink" title="2. 使用  Integer.valueOf()  ,(不建议使用)内部使用缓存机制"></a>2. 使用<strong>  Integer.valueOf() </strong> ,(不建议使用)内部使用缓存机制</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenString_whenCallingIntegerValueOf_shouldConvertToInt</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String givenString = <span class="string">"42"</span>;</span><br><span class="line"> </span><br><span class="line">    Integer result = Integer.valueOf(givenString);</span><br><span class="line"> </span><br><span class="line">    assertThat(result).isEqualTo(<span class="keyword">new</span> Integer(<span class="number">42</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="3-使用Integer构造方法"><a href="#3-使用Integer构造方法" class="headerlink" title="3. 使用Integer构造方法"></a>3. 使用Integer构造方法</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenString_whenCallingIntegerConstructor_shouldConvertToInt</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String givenString = <span class="string">"42"</span>;</span><br><span class="line"> </span><br><span class="line">    Integer result = <span class="keyword">new</span> Integer(givenString);</span><br><span class="line"> </span><br><span class="line">    assertThat(result).isEqualTo(<span class="keyword">new</span> Integer(<span class="number">42</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="4-使用-Integer-decode-方法"><a href="#4-使用-Integer-decode-方法" class="headerlink" title="4. 使用 Integer.decode()方法"></a>4. 使用 <strong>Integer.decode()</strong>方法</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenString_whenCallingIntegerDecode_shouldConvertToInt</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String givenString = <span class="string">"42"</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">int</span> result = Integer.decode(givenString);</span><br><span class="line"> </span><br><span class="line">    assertThat(result).isEqualTo(<span class="number">42</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="以上方法如果转换错误会抛出NumberFormatException异常"><a href="#以上方法如果转换错误会抛出NumberFormatException异常" class="headerlink" title="以上方法如果转换错误会抛出NumberFormatException异常"></a>以上方法如果转换错误会抛出<strong>NumberFormatException</strong>异常</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span>(expected = NumberFormatException.class)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenInvalidInput_whenParsingInt_shouldThrow</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String givenString = <span class="string">"nan"</span>;</span><br><span class="line">    Integer.parseInt(givenString);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="5-使用guava-工具-如果解析失败-会跳过返回空值"><a href="#5-使用guava-工具-如果解析失败-会跳过返回空值" class="headerlink" title="5. 使用guava 工具 ,如果解析失败,会跳过返回空值"></a>5. 使用guava 工具 ,如果解析失败,会跳过返回空值</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenString_whenTryParse_shouldConvertToInt</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String givenString = <span class="string">"42"</span>;</span><br><span class="line"> </span><br><span class="line">    Integer result = Ints.tryParse(givenString);</span><br><span class="line"> </span><br><span class="line">    assertThat(result).isEqualTo(<span class="number">42</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>总结: 使用java原生方式简单,但每次要考虑到解析异常也挺烦的,建议使用guava 的<strong>Ints.tryParse</strong>方法</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;1-使用-Integer-parseInt&quot;&gt;&lt;a href=&quot;#1-使用-Integer-parseInt&quot; class=&quot;headerlink&quot; title=&quot;1. 使用 Integer.parseInt() &quot;&gt;&lt;/a&gt;1. 使用&lt;strong&gt; Integ
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java中十六进制转ASCII编码</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/java%E4%B8%AD%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E8%BD%ACASCII%E7%BC%96%E7%A0%81/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/java中十六进制转ASCII编码/</id>
    <published>2020-05-08T03:44:42.539Z</published>
    <updated>2020-05-08T03:44:42.539Z</updated>
    
    <content type="html"><![CDATA[<h1 id="将字符串转换成十六进制"><a href="#将字符串转换成十六进制" class="headerlink" title="将字符串转换成十六进制"></a>将字符串转换成十六进制</h1><ol><li>将每个字符串转换成数组</li><li>将数组中字符转换成整型</li><li>使用Integer.toHexString()方法转换成十六进制</li></ol><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">asciiToHex</span><span class="params">(String asciiStr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span>[] chars = asciiStr.toCharArray();</span><br><span class="line">    StringBuilder hex = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> ch : chars) &#123;</span><br><span class="line">        hex.append(Integer.toHexString((<span class="keyword">int</span>) ch));</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> hex.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>截断一个十六进制为两个字符组</li><li>使用<strong>Integer.parseInt(hex, 16)</strong>方法强转字符</li><li>把每个字符添加的<strong>StringBuilder</strong>上</li></ol><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">hexToAscii</span><span class="params">(String hexStr)</span> </span>&#123;</span><br><span class="line">    StringBuilder output = <span class="keyword">new</span> StringBuilder(<span class="string">""</span>);</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; hexStr.length(); i += <span class="number">2</span>) &#123;</span><br><span class="line">        String str = hexStr.substring(i, i + <span class="number">2</span>);</span><br><span class="line">        output.append((<span class="keyword">char</span>) Integer.parseInt(str, <span class="number">16</span>));</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">return</span> output.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">whenHexToAscii</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String asciiString = <span class="string">"www.matosiki.com"</span>;</span><br><span class="line">    String hexEquivalent = </span><br><span class="line">      <span class="string">"3737373737373265363236313635366336343735366536373265363336663664"</span>;</span><br><span class="line"> </span><br><span class="line">    assertEquals(asciiString, hexToAscii(hexEquivalent));</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">whenAsciiToHex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String asciiString = <span class="string">"www.matosiki.com"</span>;</span><br><span class="line">    String hexEquivalent = </span><br><span class="line">      <span class="string">"3737373737373265363236313635366336343735366536373265363336663664"</span>;</span><br><span class="line"> </span><br><span class="line">    assertEquals(hexEquivalent, asciiToHex(asciiString));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>总结: 以上同16进制与ascii码相互转换.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;将字符串转换成十六进制&quot;&gt;&lt;a href=&quot;#将字符串转换成十六进制&quot; class=&quot;headerlink&quot; title=&quot;将字符串转换成十六进制&quot;&gt;&lt;/a&gt;将字符串转换成十六进制&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;将每个字符串转换成数组&lt;/li&gt;
&lt;li&gt;将数组中字符转
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java中StringTokenizer使用</title>
    <link href="http://www.matosiki.site/2020/05/08/blog/java/java%E4%B8%ADStringTokenizer%E4%BD%BF%E7%94%A8/"/>
    <id>http://www.matosiki.site/2020/05/08/blog/java/java中StringTokenizer使用/</id>
    <published>2020-05-08T03:44:42.539Z</published>
    <updated>2020-05-08T03:44:42.539Z</updated>
    
    <content type="html"><![CDATA[<h2 id="使用特殊分割符分割String类型一般使用StringTokenize"><a href="#使用特殊分割符分割String类型一般使用StringTokenize" class="headerlink" title="使用特殊分割符分割String类型一般使用StringTokenize()"></a>使用特殊分割符分割String类型一般使用<strong>StringTokenize()</strong></h2><h1 id="1-使用逗号分割-再用枚举递归"><a href="#1-使用逗号分割-再用枚举递归" class="headerlink" title="1. 使用逗号分割,再用枚举递归"></a>1. 使用逗号分割,再用枚举递归</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getTokens</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; tokens = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    StringTokenizer tokenizer = <span class="keyword">new</span> StringTokenizer(str, <span class="string">","</span>);</span><br><span class="line">    <span class="keyword">while</span> (tokenizer.hasMoreElements()) &#123;</span><br><span class="line">        tokens.add(tokenizer.nextToken());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tokens;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="2-使用java8"><a href="#2-使用java8" class="headerlink" title="2. 使用java8"></a>2. 使用java8</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getTokensWithCollection</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Collections.list(<span class="keyword">new</span> StringTokenizer(str, <span class="string">","</span>)).stream()</span><br><span class="line">      .map(token -&gt; (String) token)  <span class="comment">// 注意这里返回类型为Object类型需要强转</span></span><br><span class="line">      .collect(Collectors.toList());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="3-自定义分割符"><a href="#3-自定义分割符" class="headerlink" title="3. 自定义分割符"></a>3. 自定义分割符</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">tokens.add(tokenizer.nextToken(<span class="string">"e"</span>));</span><br></pre></td></tr></table></figure><h1 id="读取CVS文件"><a href="#读取CVS文件" class="headerlink" title="读取CVS文件"></a>读取CVS文件</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getTokensFromFile</span><span class="params">( String path , String delim )</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; tokens = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    String currLine = <span class="string">""</span>;</span><br><span class="line">    StringTokenizer tokenizer;</span><br><span class="line">    <span class="keyword">try</span> (BufferedReader br = <span class="keyword">new</span> BufferedReader(</span><br><span class="line">        <span class="keyword">new</span> InputStreamReader(Application.class.getResourceAsStream( </span><br><span class="line">          <span class="string">"/"</span> + path )))) &#123;</span><br><span class="line">        <span class="keyword">while</span> (( currLine = br.readLine()) != <span class="keyword">null</span> ) &#123;</span><br><span class="line">            tokenizer = <span class="keyword">new</span> StringTokenizer( currLine , delim );</span><br><span class="line">            <span class="keyword">while</span> (tokenizer.hasMoreElements()) &#123;</span><br><span class="line">                tokens.add(tokenizer.nextToken());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tokens;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TokenizerTest</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">private</span> MyTokenizer myTokenizer = <span class="keyword">new</span> MyTokenizer();</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; expectedTokensForString = Arrays.asList(</span><br><span class="line">      <span class="string">"Welcome"</span> , <span class="string">"to"</span> , <span class="string">"baeldung.com"</span> );</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; expectedTokensForFile = Arrays.asList(</span><br><span class="line">      <span class="string">"1"</span> , <span class="string">"IND"</span> , <span class="string">"India"</span> , </span><br><span class="line">      <span class="string">"2"</span> , <span class="string">"MY"</span> , <span class="string">"Malaysia"</span> , </span><br><span class="line">      <span class="string">"3"</span>, <span class="string">"AU"</span> , <span class="string">"Australia"</span> );</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenString_thenGetListOfString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String str = <span class="string">"Welcome,to,baeldung.com"</span>;</span><br><span class="line">        List&lt;String&gt; actualTokens = myTokenizer.getTokens( str );</span><br><span class="line">  </span><br><span class="line">        assertEquals( expectedTokensForString, actualTokens );</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">givenFile_thenGetListOfString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; actualTokens = myTokenizer.getTokensFromFile( </span><br><span class="line">          <span class="string">"data.csv"</span>, <span class="string">"|"</span> );</span><br><span class="line">  </span><br><span class="line">        assertEquals( expectedTokensForFile , actualTokens );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;使用特殊分割符分割String类型一般使用StringTokenize&quot;&gt;&lt;a href=&quot;#使用特殊分割符分割String类型一般使用StringTokenize&quot; class=&quot;headerlink&quot; title=&quot;使用特殊分割符分割String类型一般使用S
      
    
    </summary>
    
      <category term="learn" scheme="http://www.matosiki.site/categories/learn/"/>
    
    
      <category term="java" scheme="http://www.matosiki.site/tags/java/"/>
    
  </entry>
  
</feed>
