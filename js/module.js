/*!* wave-canvas.js */
var App=App||{};!function(){var e=function(){var e,i,t,a,h,n,s,o,r,d,c,w,l,p,g,u=function(){if(h.width=i.width()+2,h.height=i.outerHeight(),o=h.height-h.height/2.7,r=h.height/7.5,c=.41,w=2.5,h.width/a<680?(s=new f,o=h.height-10,w=3.8,c=.2,r=45):s=new f,window.devicePixelRatio&&cssua.ua.mobile){var e=h.getAttribute("height"),n=h.getAttribute("width");h.setAttribute("width",Math.round(n*window.devicePixelRatio)),h.setAttribute("height",Math.round(e*window.devicePixelRatio)),h.style.width=n+"px",h.style.height=e+"px",t.scaleX=t.scaleY=window.devicePixelRatio}},v=function(){s=new f,t.addChild(n),M()},f=function(){this.amp=10+12*Math.random(),this.freq=.0044,this.phase=2+4*Math.random(),this.offset=2+4*Math.random(),h.width/a<680&&(this.amp=2+6*Math.random(),this.freq=.018,this.phase=1+2*Math.random(),this.offset=1+2*Math.random()),this.point=function(e){return o-m()+this.offset+this.amp*Math.sin(this.freq*e+this.phase+p*g)}},m=function(){var e=new Date;return r/2*Math.abs(e.getSeconds()+e.getMilliseconds()/1e3-30)/30},M=function(){n.graphics.clear(),n.graphics.beginFill("#fff");for(var e=0;e<h.width+2;e++)n.graphics.lineTo(e,(s.point(e)*w+s.point(e))*c);n.graphics.lineTo(h.width,h.height),n.graphics.lineTo(0,h.height),n.graphics.closePath(),n.graphics.endFill(),g=(g-1)%l,t.update(),setTimeout(M,1e3/d)};return{initialize:function(){if($(".m-header").length)if(a=window.devicePixelRatio&&cssua.ua.mobile?window.devicePixelRatio:1,e=$(window),(i=$(".m-header")).append('<canvas id="wave-canvas"></canvas>'),h=document.getElementById("wave-canvas"),t=new createjs.Stage(h),n=new createjs.Shape,createjs.Ticker.setFPS(30),createjs.Ticker.addEventListener("tick",t),o=h.height-h.height/2.7,r=h.height/6.5,d=60,c=.41,w=2.5,l=340,p=2*Math.PI/l,g=10,Modernizr.canvas){v();var s=_.throttle(u,100);e.on("resize",s),u()}else $(h).remove()}}}();App.waveCanvas=e,App.waveCanvas.initialize()}();